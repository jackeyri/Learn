---
title: 头歌练习
---

# 第1章 python的基础数据类型、运算符等基础元素



## **1.1 Python入门之基础语法**



### 第1关 行与缩进

~~~python
#有错误的函数1
def wrong1():
    print("wrong1")
    print("这里有一个错误缩进")
    
#有错误的函数2
def wrong2():
    print("wrong2")
    if False:
        print("这个不应该输出")
        print("这个也不应该输出")

#有错误的函数3
def wrong3():
    print("wrong3")
    print("hello world")


#这里是调用三个函数的代码
#不要修改
if __name__ == '__main__':

    wrong1()
    wrong2()
    wrong3()
~~~



### 第2关 标识符与保留字

~~~python
import keyword

if __name__ == '__main__':
    #错误1
    str1 = "string"
    print(str1)

    #错误2
    a = 1024
    print(a)

    #错误3
    float_1_024 = 1.024
    print(float_1_024)

    #错误3
    False_value = False
    print(False_value)


    #在此处输出保留关键字
    print(keyword.kwlist)
    print("end")
~~~



### 第3关 注释

~~~python
if __name__ == '__main__':


    #以下是要修改的代码

    print(1)
    # print(2)
    print(3)
    # print(4)
    print(5)
    # print(6)

    
    print("hello world")
    """
    print("这个不应该输出")
    """

    # print(1)
    # print(2)
    print(3)
    print(4)
~~~



### 第4关 输入输出

~~~python
if __name__ == "__main__":
    a = int(input())
    b = int(input())
# ********** Begin ********** #
    print("%d + %d = %d" % (a, b, a + b))
    print("%d - %d = %d" % (a, b, a - b))
    print("%d * %d = %d" % (a, b, a * b))
    print("%d / %d = %f" % (a, b, a / b))
# ********** End ********** #
~~~



### 第5关 “Hello World！”程序

~~~python
####学生代码开始######
print(f"Hello World!")
~~~



### 第6关 天天向上的力量

~~~python
####学生代码开始######
print(f'向上：{pow(1.001, 365):.2f},向下：{pow(0.999, 365):.2f}')
~~~



## **1.2 变量和数据类型**



### 第1关 保存值

~~~python
# 请在此添加代码，将(42 - 11) * 22的计算结果保存到result中，然后打印result
#********** Begin **********#
result = (42 - 11) * 22
print(result)
#********** End **********#
~~~



### 第2关 变量

~~~python
# 请在此添加代码，完成保存值到变量和其他操作
#********** Begin **********#
a_value = 15
a_result = (25 - 7) * 17
print(f'{a_value}')
print(f'{12 + a_result}')
print(f'{a_value + a_result}')
#********** End **********#
~~~



### 第3关 变量名

~~~python
# 请在此添加代码，把变量名old-income改为old_income，new income改为new_income，然后打印结果
#********** Begin **********#
# INITIAL CODE
old_income = 34000
new_income = 40000
print(f'{old_income}')
print(f'{new_income}')
#********** End **********#
~~~



### 第4关 更新变量

~~~python
income = 34000

# 请在此添加代码，更新变量的值，然后打印结果
#********** Begin **********#
print(f'{income + 6000}')
#********** End **********#
~~~



### 第5关 快捷语法

~~~python
# 请在此添加代码，使用快捷语法来进行运算，然后打印结果
#********** Begin **********#
variable_1=20
variable_2=20
variable_2+=10
variable_1*=4
print(f'{variable_1}')
print(f'{variable_2}')
#********** End **********#
~~~



### 第6关 整型（int）和浮点型（float）

~~~python
# 请在此添加代码，用整型和浮点型数据进行运算，最后打印结果
#********** Begin **********#
variable_1=10
variable_2=2.5
variable_1+=6.5
variable_2*=2
print(f'{variable_1}')
print(f'{variable_2}')
#********** End **********#
~~~



### 第7关 类型转换

~~~python
# 请在此添加代码，对变量进行舍入和类型转换，最后打印结果
#********** Begin **********#
variable_a = 13.9
variable_b = 2.8
variable_a = round(variable_a)
variable_b = int(variable_b)
print(variable_a)
print(variable_b)
#********** End **********#
~~~



## 1.3 Python入门之运算符的使用



### 第1关 算术、比较、赋值运算符

~~~python
apple = int(input())
pear = int(input())

# 计算苹果个数加梨的个数，并将结果存入sum_result变量
###### Begin ######
sum_result = apple + pear
####### End #######
print(sum_result)


# 计算苹果个数除以梨的个数，并将结果存入div_result变量
###### Begin ######
div_result = apple / pear
####### End #######
print(div_result)


# 计算苹果个数的2次幂，并将结果存入exp_result变量
###### Begin ######
exp_result = apple**2
####### End #######
print(exp_result)


# 判断苹果个数是否与梨的个数相等，并将结果存入isequal变量
###### Begin ######
isequal = apple == pear
####### End #######
print(isequal)


# 判断苹果个数是否大于等于梨的个数，并将结果存入ismax变量
###### Begin ######
ismax = apple >= pear
####### End #######
print(ismax)


# 用赋值乘法运算符计算梨个数乘以2，并将结果存入multi_result变量
###### Begin ######
multi_result = pear * 2
####### End #######
print(multi_result)
~~~



### 第2关 逻辑运算符

~~~python
tom = input()
jerry = input()

# 请在此处填入jerry的布尔“非”代码,并将结果存入到not_result这个变量
###### Begin ######
not_result = not jerry
####### End #######
print(not_result)


# 请在此处填入tom,jerry的逻辑与代码，并将结果存入到and_result这个变量
###### Begin ######
and_result = tom and jerry
    
####### End #######
print(and_result)
~~~



### 第3关 位运算符

~~~python
bitone = int(input())
bittwo = int(input())
# 请在此处填入将bitone,bittwo按位与的代码，并将运算结果存入result变量
###### Begin ######
result = bitone & bittwo
####### End #######
print(result)

# 请在此处填入将bitone,bittwo按位或的代码，并将运算结果存入result变量
###### Begin ######
result = bitone | bittwo
####### End #######
print(result)

# 请在此处填入将bitone,bittwo按位异或的代码，并将运算结果存入result变量
###### Begin ######
result = bitone ^ bittwo
####### End #######
print(result)

# 请在此处填入将bitone按位取反的代码，并将运算结果存入result变量
###### Begin ######
result = ~bitone
####### End #######
print(result)

# 请在此处填入将bittwo左移动两位的代码，并将运算结果存入result变量
###### Begin ######
result = bittwo << 2
####### End #######
print(result)

# 请在此处填入将bittwo右移动两位的代码，并将运算结果存入result变量
###### Begin ######
result = bittwo >> 2
####### End #######
print(result)
~~~



### 第4关 成员运算符

~~~python
import member
me = input()
list = []
inputlist = input()
for i in inputlist.split(','):
   result = i
   list.append(result)
# 请在if后面的括号中填入判断变量me是否存在于list中的语句
###### Begin ######
if (me in list):
    print("我是篮球社成员")
else:
    print("我不是篮球社成员")
####### End #######
    
    
# 请在if后面的括号中填入判断变量me是否存在于list中的语句
###### Begin ######
if (me not in list):
    print("我不是篮球社成员")
else:
     print("我是篮球社成员")
####### End #######
~~~



### 第5关 身份运算符

~~~python
# 定义addressone和addresstwo两个变量，并为其赋值
addressone = 20
addresstwo = 20
addressthree = 12

# 在if后面的括号中填入判断变量addressone与变量addresstwo是否有相同的存储单元的语句
###### Begin ######
if(addressone is addresstwo):
    print("变量addressone与变量addresstwo有相同的存储单元")
else:
    print("变量addressone与变量addresstwo的存储单元不同")
####### End #######


# 在if后面的括号中填入判断变量addresstwo与变量addressthree是否没有相同的存储单元的语句
###### Begin ######
if(addresstwo is not addressthree):
    print("变量addresstwo与变量addressthree的存储单元不同")
else:
    print("变量addresstwo与变量addressthree有相同的存储单元")
####### End #######
~~~



### 第6关 运算符的优先级

~~~python
var1 = int(input())
var2 = int(input())
var3 = int(input())
var4 = int(input())
#先将var1左移两位，然后计算var1与var2的和，最后后将这个值乘以var3，并将最终结果存入result变量
#********** Begin *********#
result = ((var1 << 2) + var2) * var3
#********** End **********#
print(result)


#先将var1与var2按位与，然后计算得到的值与var3的和，最后后将这个值乘以var4，并将最终结果存入result变量
#********** Begin *********#
result = ((var1 & var2) + var3) * var4
#********** End **********#
print(result)
~~~



## 1.4 课后作业python程序的基本元素



### 第1关 变量和常量

~~~python
#coding=utf-8
# 请在此处添加代码完成输出打印
#********* Begin *********#
year = 2018
month = 10
day = 1
holiday = "国庆" 
peoples = 1.13
print("{}年{}月{}日，{}节当天全国共接待游客{}亿人次。".format(year,month,day,holiday,peoples))
#********* End *********#
~~~



### 第2关 基本数据类型

~~~python
#coding = utf-8


# 请在此处添加代码按要求输出打印
#********* Begin *********#
a = 1
b = 1.2
c = True
d = "这里是字符串"
print("{0}\n{1}\n{2}\n{3}".format(a, b, c, d))
#********* End *********#
~~~



### 第3关 运算符

~~~python
#coding=utf-8
a = int(input()) # 输入 a
b = int(input()) # 输入 b

# 请在此处添加代码，根据要求在"c ="后填写相应代码
#********* Begin *********#

#第一题
c = (a + b) / 2
print(c)

#第二题
c = a % b
print(c)

#第三题
c = a * a + b * b
print(c)

#第四题
c = a * a * a - b * b * b
print(c)

#第五题
c = 1.8 * b + 32
print(c)

#第六题
c = 1 + 1 / (1 + 1 / (1 + 1 / a))
print(c)

#********* End *********#
~~~



### 第4关 温度转换

~~~python
# 请在此处添加代码
#********* Begin *********#
F = float(input())
print(f'{F}华氏度 = {((F-32) / 1.8):.1f}摄氏度')
#********* End *********#
~~~



### 第5关 输入半径计算圆的周长和面积

~~~python
# 请在此处添加代码
#********* Begin *********#
r = float(input())
print(f'周长: {(2 * 3.1416926 * r):.2f}')
print(f'面积: {(3.1415926 * r**2):.2f}')
#********* End *********#
~~~



### 第6关 逻辑运算符练习判断闰年

~~~python
# 请在此处添加代码
#********* Begin *********#
year = int(input())
if year % 4 == 0 and year % 100 != 0 or year % 400 == 0:
    print(True)
else:
    print(False)
#********* End *********#
~~~



# 第2章 Python顺序与分支结构



## 2.1 Python之控制结构 - 顺序与选择结构



### 第1关 顺序结构

~~~python
changeOne = int(input())
changeTwo = int(input())
plus = int(input())

#请在此添加代码，交换changeOne,changeTwo的值，然后计算changeOne和plus的和result的值
#********** Begin *********#
changeOne, changeTwo = changeTwo, changeOne
result = changeOne + plus
#********** End **********#
print(result)
~~~



### 第2关 选择结构：if-else

~~~python
workYear = int(input())
#请在下面填入如果workYear < 5的判断语句
#********** Begin *********#
if workYear < 5 :
#********** End ***********#
    print("工资涨幅为0")
#请在下面填入如果workYear >= 5 and workYear < 10的判断语句
#********** Begin *********#
elif workYear >= 5 and workYear < 10 :
#********** End ***********#
    print("工资涨幅为5%")
#请在下面填入如果workYear >= 10 and workYear < 15的判断语句
#********** Begin *********#
elif workYear >= 10 and workYear < 15 :
#********** End ***********#
    print("工资涨幅为10%")
#请在下面填入当上述条件判断都为假时的判断语句
#********** Begin *********#
else :
#********** End ***********#
    print("工资涨幅为15%")
~~~



### 第3关 选择结构 - 三元操作符

~~~python
jimscore = int(input())
jerryscore = int(input())
#请在此添加代码，判断若jim的得分jimscore更高，则赢家为jim。若jerry的得分jerryscore更高，则赢家为jerry并输出赢家的名字。
#********** Begin *********#
if jimscore > jerryscore :
    winner="jim"
else :
    winner="jerry"
#********** End **********#
print(winner)
~~~



### 第4关 将输入的三个整数x,y,z按由小到大的顺序排列

~~~python
x,y,z = input().split()
x = int(x)
y = int(y)
z = int(z)
##学生代码开始##
if y > z :
    y, z = z, y
if x > y :
    x, y = y, x
print(f'{x} {y} {z}')
~~~



### 第5关 求第n个斐波那契数列的值

~~~python
# 这个整数取自测试集的输入
n = int(input())


# 学生代码开始
def f(n):
    if n <= 1:
        return n
    else:
        return f(n - 1) + f(n - 2)


result = f(n)
print(result)
~~~



### 第6关 判断输入的年份是否是闰年

~~~python
# 这个整数取自测试集的输入
year = int(input())
#####学生代码开始
if year % 4 == 0 and year % 100 != 0 or year % 400 == 0:
    result = "Yes"
else:
    result = "No"
print(result)
~~~



### 第7关 根据利润发放奖金提成

~~~python
#********** Begin *********#
profit = int(input())
if profit <= 100000:
    bonus = profit * 0.1
elif profit <= 200000:
    bonus = 100000 * 0.1 + (profit - 100000) * 0.075
elif profit <= 400000:
    bonus = 100000 * 0.1 + 100000 * 0.075 + (profit - 200000) * 0.05
elif profit <= 600000:
    bonus = 100000 * 0.1 + 100000 * 0.075 + 200000 * 0.05 + (profit - 400000) * 0.03
elif profit <= 1000000:
    bonus = 100000 * 0.1 + 100000 * 0.075 + 200000 * 0.05 + 200000 * 0.03 + (profit - 600000) * 0.015
else:
    bonus = 100000 * 0.1 + 100000 * 0.075 + 200000 * 0.05 + 200000 * 0.03 + 400000 * 0.015 + (profit - 1000000) * 0.01
print(bonus)
#********* End *********#
~~~



### 第8关 判断输入的边长能否构成三角形，如果能则计算出三角形的周长和面积

~~~python
# 请在此添加实现代码
a = float(input())
b = float(input())
c = float(input())
if a + b > c and a + c > b and b + c > a:
    p = (a + b + c) / 2
    S = (p * (p - a) * (p - b) * (p - c)) ** 0.5
    # 输出周长和面积
    print(f"周长:{a + b + c:.2f}")
    print(f"面积:{S:.2f}")
else:
    print("不能构成三角形")
~~~



## 2.2 python程序控制-选择结构



### 第1关 判断奇偶

~~~python
# ***Begin your code here***
num = int(input())
if num % 2:
    print("奇数")
else:
    print("偶数")
~~~



### 第2关 单按钮灯光开关控制

~~~python
light = input()  # 从测试集读入light值，此部分代码不用修改

######begin 从此处向下，开始你的编码，根据ligth的值进行输出###
if light == "开":
    light = "关"
else:
    light = "开"

print(light)
#####end###
~~~



### 第3关 单分支选择语句

~~~python
#***Begin your code here***#
num = int(input())
if num > 0:
    print("POSITIVE")
#***End your code here***#
~~~



### 第4关 3个数按从大到小依次输出

~~~python
#***Begin your code here***#
a, b, c = list(map(int, input().split()))
max_value = max(a, b, c)
min_value = min(a, b, c)
mid_value = a + b + c - max_value - min_value
print(max_value, mid_value, min_value)
#***End your code here***#
~~~



### 第5关 输入分数，输出等级

~~~python
score=float(input())        #读入测试变量score


#**********begin*******以下编写代码实现
if 90 <= score <= 100:
    level = "A"
elif 80 <= score < 90:
    level = "B"
elif 70 <= score < 80:
    level = "C"
elif 60 <= score < 70:
    level = "D"
else:
    level = "E"
print(f"等级{level}")
#**********end***********
~~~



### 第6关 实现分段函数计算

~~~python
x = int(input())
if x < 0:
    y = 0
elif 0 <= x < 5:
    y = x
elif 5 <= x < 10:
    y = 3 * x - 5
elif 10 <= x < 20:
    y = 0.5 * x - 2
else:
    y = 0
print(f'y={y}')
~~~



### 第7关 水仙花数与四叶玫瑰数

~~~python
#***Begin your code here***#
import sys
#***End your code here***#
num = int(input())

if len(str(num)) == 3:
    a, b, c = map(int, str(num))
    if a ** 3 + b ** 3 + c ** 3 == num:
        print("narcissistic")
        exit()

if len(str(num)) == 4:
    a, b, c, d = map(int, str(num))
    if a ** 4 + b ** 4 + c ** 4 + d ** 4 == num:
        print("rose")
        exit()

print("neither")
~~~



### 第8关 求解一元二次方程组

~~~python
import math        #引入math模块
a=float(input())        #读入测试变量a
b=float(input())        #读入测试变量b        
c=float(input())        #读入测试变量c

#**********begin*******以下编写代码实现
import math

d = b ** 2 - 4 * a * c

if a == 0:
    x = -c / b
    print("x=", x)
elif d == 0:
    x = -b / (2 * a)
    print(f"x1=x2= {x}")
elif d > 0:
    x1 = (-b + math.sqrt(d)) / (2 * a)
    x2 = (-b - math.sqrt(d)) / (2 * a)
    print(f"x1= {x1} x2= {x2}")
else:
    real_part = -b / (2 * a)
    imaginary_part = math.sqrt(abs(d)) / (2 * a)
    x1 = complex(real_part, imaginary_part)
    x2 = complex(real_part, -imaginary_part)
    print(f"x1= {x1} x2= {x2}")
#**********end***********
~~~



### 第9关 颜色空间转换

~~~python
#***Begin your code here***#
R, G, B = map(int, input().split())

R /= 255
G /= 255
B /= 255

w = max(R, G, B)

C = (w - R) / w
M = (w - G) / w
Y = (w - B) / w
K = 1 - w

print(f"C = {C:.6f}")
print(f"M = {M:.6f}")
print(f"Y = {Y:.6f}")
print(f"K = {K:.6f}")
#***End your code here***#
~~~



## 课后作业_分支结构



### 第1关 判断三角形类型

~~~python
x=eval(input("边长一"))
y=eval(input("边长二"))
z=eval(input("边长三"))
#代码开始
if x + y > z and x + z > y and y + z > x:
    if x == y == z:
        print("等边三角形")
    elif x ** 2 + y ** 2 == z ** 2 or x ** 2 + z ** 2 == y ** 2 or y ** 2 + z ** 2 == x ** 2:
        print("直角三角形")
    else:
        print("普通三角形")
else:
    print("无法构成三角形")
#代码结束
~~~



### 第2关 分段函数

~~~python
x = eval(input())
# 代码开始
if x < 1:
    y = x
elif x < 10:
    y = 2 * x - 1
else:
    y = 3 * x - 1
# 代码结束
print("{:.2f}".format(y))
~~~



### 第3关 阶梯电价计算电费

~~~python
sy = eval(input("输入上月电表度数"))
by = eval(input("输入本月电表度数"))
yf = eval(input("输入月份"))
# 代码开始
ds = by - sy
df = ds * 0.588
if ds > 200:
    if 3 <= yf <= 5 or 9 <= yf <= 11:
        if ds <= 350:
            df = 200 * 0.588 + (ds - 200) * 0.638
        else:
            df = 200 * 0.588 + 150 * 0.638 + (ds - 350) * 0.888
    else:
        if ds <= 450:
            df = 200 * 0.588 + (ds - 200) * 0.638
        else:
            df = 200 * 0.588 + 250 * 0.638 + (ds - 450) * 0.888
# 代码结束
print("用电度数{:.2f}电费{:.2f}".format(ds, df))
~~~



### 第4关 阶梯水价计算水费

~~~python
sy = eval(input("输入上月水表吨数"))
by = eval(input("输入本月水表吨数"))
rs = eval(input("输入家庭人数"))
db = input("是否低保(y/n)")
# 代码开始
if rs <= 4:
    if db == "y":
        sl = by - sy - 6
        if sl <= 0:
            sf = 0
        elif sl <= 15:
            sf = sl * 2.58
        elif sl <= 22:
            sf = 15 * 2.58 + (sl - 15) * 3.34
        else:
            sf = 15 * 2.58 + 7 * 3.34 + (sl - 22) * 4.09
    else:
        sl = by - sy
        if sl <= 15:
            sf = sl * 2.58
        elif sl <= 22:
            sf = 15 * 2.58 + (sl - 15) * 3.34
        else:
            sf = 15 * 2.58 + 7 * 3.34 + (sl - 22) * 4.09
else:
    if db == "y":
        sl = by - sy - 6
        if sl <= 0:
            sf = 0
        elif sl <= 4 * rs:
            sf = sl * 2.58
        elif sl <= 5 * rs:
            sf = 4 * rs * 2.58 + (sl - 4 * rs) * 3.34
        else:
            sf = 4 * rs * 2.58 + rs * 3.34 + (sl - 5 * rs) * 4.09
    else:
        sl = by - sy
        if sl <= 4 * rs:
            sf = sl * 2.58
        elif sl <= 5 * rs:
            sf = 4 * rs * 2.58 + (sl - 4 * rs) * 3.34
        else:
            sf = 4 * rs * 2.58 + rs * 3.34 + (sl - 5 * rs) * 4.09
# 代码结束
print("用水吨数(减免后){:.2f}水费{:.2f}".format(sl, sf))
~~~



### 第5关 手机话费计算

~~~python
ll=eval(input("流量"))
thsj=eval(input("通话时间"))
#代码开始
if ll <= 30 and thsj <= 500:
    print("费用128.00")
else:
    s = 128
    if thsj > 500:
        s += (thsj - 500) * 0.15
    if ll > 30:
        if ll <= 33:
            s += (ll - 30) * 5
        else:
            s += 15 + (ll - 33) * 3
    print("费用%.2f" % s)
#代码结束
~~~



### 第6关 血压判断

~~~python
x=eval(input())
y=eval(input())
#代码开始
if x >= 90 or y >= 140:
    print("高血压")
elif x < 60 or y < 90:
    print("低血压")
else:
    print("正常血压")
#代码结束
~~~



### 第7关 党费计算

~~~python
ch = input("")
s = eval(input(""))
# 代码开始
if ch == 'y' or ch == 'Y':
    if s <= 5000:
        rate = 0.005
    else:
        rate = 0.01
else:
    if s <= 3000:
        rate = 0.005
    elif s <= 5000:
        rate = 0.01
    elif s <= 10000:
        rate = 0.015
    else:
        rate = 0.02
df = s * rate
# 代码结束
print("{:.2f}".format(df))
~~~



### 第8关 周薪计算

~~~python
gzbz = eval(input("工资标准"))
gzr = eval(input("工作日工作时间"))
xxr = eval(input("休息日工作时间"))
# 代码开始
gz = 0
if gzr <= 40:
    gz = gzr * gzbz
else:
    gz = 40 * gzbz + (gzr - 40) * gzbz * 1.5

if xxr <= 4:
    gz = gz + xxr * gzbz * 2
else:
    gz = gz + 4 * gzbz * 2 + (xxr - 4) * 3 * gzbz
# 代码结束
print("工资{:.2f}".format(gz))
~~~



# 第3章 Python 循环结构



## 3.1 Python程序设计-循环语句训练



### 第1关 质数

~~~python
####学生代码开始######
num = int(input())

if num > 1:
    for i in range(2, int(num / 2) + 1):
        if (num % i) == 0:
            print("Heshu")
            break
    else:
        print("Prime")
else:
    print("Heshu")
~~~



### 第2关 最大公约数

~~~python
####学生代码开始######
a, b = map(int, input().split())
while b:
    a, b = b, a % b
print(a)
~~~



### 第3关 质数的数量

~~~python
####学生代码开始######
a, b = map(int, input().split())

count = 0

for num in range(a, b + 1):
    if num == 1:
        continue

    is_prime = True
    for i in range(2, int(num ** 0.5) + 1):
        if num % i == 0:
            is_prime = False
            break

    if is_prime:
        count += 1

print(count)
~~~



### 第4关 剥离数字

~~~python
####学生代码开始######
num = int(input());
if num == 0:
    print(0)
while num > 0:
    print(num % 10)
    num = num // 10
~~~



### 第5关 剥离粘合之只保留偶数数字

~~~python
####学生代码开始######
num = int(input())
result = 0

while num > 0:
    digit = num % 10
    if digit % 2 == 0:
        result = result * 10 + digit
    num = num // 10

print(result // 2)
~~~



### 第6关 剥离粘合之只保留偶数位上的数字

~~~python
####学生代码开始######
num = int(input())

result = 0
if num >= 10:
    i = 1
    while num > 0:
        if i % 2 == 0:
            result += num % 10 * (10 ** (i // 2 - 1))
        num = num // 10
        i += 1
    result = int(str(result)[::-1])

if result % 2 == 0:
    print(result // 2)
else:
    print(f'{result // 2} 1')
~~~



### 第7关 输入整数n，计算n!

~~~python
####学生代码开始######
num = int(input())

result = 1
for i in range(2, num + 1):
    result *= i

print(result)
~~~



### 第8关 循环输入，直到正确为止

~~~python
####学生代码开始######
m = int(input())
n = int(input())
while n != m:
    print(n)
    n = int(input())
print(n)
~~~



### 第9关 猜数字游戏

~~~python
####学生代码开始######
m = int(input())
n = int(input())
while n != m:
    if n > m:
        print("猜大了")
    else:
        print("猜小了")
    n = int(input())
print("猜对了")
~~~



## 3.2 多重循环



### 第1关 输出菱形字符图案

~~~python
# -*- coding:utf-8 -*-
import math

row = int(input())
if row == 1:
    print("*", end="")
    exit()
if row % 2 == 0:
    raise ValueError
row = math.ceil(row / 2.0)
for n in range(1, row + 1):
    i = 2 * n - 1  # 每一行*的个数
    j = (row - n) * 2  # 每一行空格的个数
    for jj in range(j):  # 控制输出每一行的空格
        print(" ", end="")
    if i > 1:  # 如果一行字母*的个数大于1，则要控制*和*之间的空格格式然后输出
        for ii in range(i):
            if ii != i - 1:
                print("* ", end="")
            else:
                print("*")
    else:  # 如果一行的字母*的个数等于1，则直接输出*
        print("*")

# 输出完菱形的上半部分，下半部分直接通过反向控制输出
# ********* Begin *********#
for n in range(row - 1, 0, -1):
    i = 2 * n - 1
    j = (row - n) * 2
    for jj in range(j):
        print(" ", end="")
    if i > 1:
        for ii in range(i):
            if ii != i - 1:
                print("* ", end="")
            else:
                print("*")
    else:
        print("*")
# ********* End *********#
~~~



### 第2关 输出指定范围内的偶数

~~~python
# -*- coding:utf-8 -*-
begin, end = map(int, input("").split())
result = []
# ********* Begin *********#
for i in range(begin, end + 1):
    if i % 2 == 0:
        print(i, end=" ")
# ********* End *********#
~~~



### 第3关 输出九九乘法表

~~~python
# -*- coding:utf-8 -*-
for i in range(1, 10):
    for j in range(i):
    # ********* Begin *********#
        print("%d*%d=%d" % (i, j+1, i*(j+1)), end=" ")
    # ********* End *********#
    if i != 9:
        print()
~~~



### 第4关 百钱买百鸡求解

~~~python
###start your code####
for i in range(1, 20):
    for j in range(1, 33):
        for k in range(1, 100):
            if i + j + k == 100 and 5 * i + 3 * j + k / 3 == 100:
                print("小鸡%d只,母鸡%d只,公鸡%d只" % (k, j, i))
~~~



## 3.3 课后作业循环结构



### 第1关 角谷猜想

~~~python
#输入一个正整数n
n = int(input())
#请在下面写出你的代码
while n != 1:
    if n == 2:
        print("2/2=1", end='')
        break
    elif n % 2 == 0:
        print(f'{n}/2=', end='')
        n = n // 2
        print(f'{n};', end=' ')
    else:
        print(f'{n}*3+1=', end='')
        n = n * 3 + 1
        print(f'{n};', end=' ')
~~~



### 第2关 输出一个范围内的所有完全数

~~~python
x=int(input())
####开始你的代码
for i in range(1,x+1):
    sum=0
    for j in range(1,i):
        if i%j==0:
            sum+=j
    if sum==i:
        print(i)
~~~



### 第3关 输出阶乘等式

~~~python
n = int(input())

for i in range(1, n + 1):
    if i == 1:
        print("1!=1=1")
        continue
    else:
        print(str(i) + '!=1*', end='')
    result = 1
    for j in range(2, i + 1):
        if j == i:
            print(str(j), end='')
        else:
            print(str(j) + '*', end='')
        result *= j
    print('=' + str(result))
~~~



### 第4关 鸡兔同笼问题

~~~python
if __name__ == "__main__":
    a = int(input())
    b = int(input())
# ********** Begin ********** #
if b % 2 == 1:
    print("无解")
else:
    rabbit = (b - 2 * a) / 2
    chicken = a - rabbit
    if rabbit < 0 or chicken < 0:
        print("无解")
    else:
        print("鸡{}只兔子{}只".format(int(chicken), int(rabbit)))
# ********** End ********** #
~~~



### 第5关 求剩余最短木料的切割方案

~~~python
length = int(input())
a = length // 19
b = length // 23
min = length
x = 1
y = 1
for i in range(1, a + 1):
    for j in range(1, b + 1):
        if length - (19 * i + 23 * j) < min and 19 * i + 23 * j <= length:
            min = length - (19 * i + 23 * j)
            x = i
            y = j
print("19米{}段,23米{}段,剩余{}米".format(x, y, min))
~~~



### 第6关 国际标准书号校验

~~~python
x = eval(input())


def isbn(x):
    '''
    :type x: int
    '''
    # 请在此添加代码，实现计算国际图书标准号校验位并return完整ISBN的功能
    # ********** Begin *********#
    isb = str(x)
    checksum = sum(int(isb[i]) * (10 - i) for i in range(9)) % 11

    if checksum == 0:
        return "ISBN " + str(x) + "-0"
    elif checksum == 1:
        return "ISBN " + str(x) + "-X"
    else:
        return "ISBN " + str(x) + "-" + str(11 - checksum)
    # ********** End *********#


print(isbn(x))
~~~



### 第7关 寻找第n个默尼森数

~~~python
from math import sqrt

n = eval(input())
#请在此添加代码，实现返回第n个默尼森数的功能
#********** Begin *********#
m = 0
p = 2
while n > 0:
    for i in range(2, int(sqrt(p)) + 1):
        if p % i == 0:
            break
    else:
        m = 2 ** p - 1
        for i in range(2, int(sqrt(m)) + 1):
            if m % i == 0:
                break
        else:
            n -= 1
    p += 1
print(m)
~~~



## 前三章综合练习题



### 第1关 猴子吃桃

~~~python
####学生代码开始######
peach = 1
for i in range(9, 0, -1):
    peach = (peach + 1) * 2
print(peach)
~~~



### 第2关 聪明者的扑克游戏

~~~python
####学生代码开始######
n = int(input())
if n % 3 == 0:
    print("hua")
else:
    print("ming")
~~~



### 第3关 七个小矮人分财产

~~~python
####学生代码开始######
N = int(input())
print(N % 7)
~~~



### 第4关 寻找质数

~~~python
####学生代码开始######
a, b = map(int, input().split())
c = 0
while c != b:
    a += 1
    for i in range(2, a):
        if a % i == 0:
            break
    else:
        print(a, end=' ')
        c += 1
~~~



### 第5关 敲7游戏

~~~python
####学生代码开始######
N = int(input())
count = 0
for i in range(1, N + 1):
    if i % 7 == 0 or '7' in str(i):
        count += 1
print(count)
~~~



### 第6关 橙子和虫子

~~~python
####学生代码开始######
n, x, y = map(int, input().split())
if y % x == 0:
    print(n - y // x)
else:
    print(n - y // x - 1)
~~~



### 第7关 喝不完的饮料

~~~python
####学生代码开始######
n, k = map(int, input().split())
bottle = n
while bottle >= k:
    n += bottle // k
    bottle = bottle // k + bottle % k
print(n)
~~~



### 第8关 整除的尾数

~~~python
####学生代码开始######
a, b = map(int, input().split())
while a != 0 and b != 0:
    for i in range(0, 100):
        if (a * 100 + i) % b == 0:
            if i == 0:
                print('00', end=' ')
            else:
                print(i, end=' ')
    print()
    a, b = map(int, input().split())
~~~



# 第4章 Python 字符串



## 4.1 Python字符串的基本操作



### 第1关 基本数据类型与字符串的合并

~~~python
# coding=utf-8
#删除下文中的"____"，并输入缺失的代码
name, age, weight, height = input().split(',')
name = name.strip('"')
print("my name is " + name + "," + age + " years old," + "my weight is " + weight + " kg," + "my height is " + height + " cm.")
~~~



### 第2关 字符串访问与截取

~~~python
#coding=utf-8

#第一题：
word = 'sentiment'
#令length为字符串长度
length = len(word)
print(length, end=' ')
#访问单词的第六个字母
target_str1 = word[5]
#打印
print(target_str1)


#第二题：
str = 'i like color is green'
target_str2 = str[16:21]
print(target_str2)


#第三题：
str1 = 'hello kitty'
str2 = 'my name is rose'
#更新字符串str1,注意中间的空格。
str1 = 'hello rose'
print(str1)
~~~



### 第3关 字符串拼接

~~~python
# coding=utf-8

# 存放姓氏和名字的变量
first_name = input()
last_name = input()

# 请在下面添加字符串拼接的代码，完成相应功能
###### Begin ######
result_string = first_name + " " + last_name
print(result_string)
####### End #######
~~~



### 第4关 字符串的替换

~~~python
# coding = utf-8


string = 'We all make choices, but in the end our choices make us.'
# 查找choices的位置，赋值给str_index
str_index = string.find('choices')
print(str_index)

# 将choices替换为decisions
replaced_string = string.replace('choices', 'decisions')
print(replaced_string)

# 将replaced_string 按','进行切割
new_string_list = replaced_string.split(',')
print(new_string_list)
~~~



### 第5关 字符串的处理函数：len()、count()、find()

~~~python
s1 = "我住长江头，君住长江尾。日日思君不见君，共饮长江水。此水几时休，此恨何时已。只愿君心似我心，定不负相思意。"
# 求s1的长度
n1 = len(s1)
# 求s1中"君"字的个数
n2 = s1.count("君")
# 求s1中"长江"的位置
n3 = s1.find("长江")
# 求s1中"黄河"的位置
n4 = s1.find("黄河")
# 输出统计后的结果
print(n1, n2, n3, n4)
~~~



### 第6关 字符串的处理函数：upper() 、swapcase()

~~~python
s1 = "The first computer is ENIAC"
# 将s1中的小写字母改为大写字母
s2 = s1.upper()
print(s2)
# 将s1中的大小写字母互换
s3 = s1.swapcase()
print(s3)
# 输出单词“computer”
print(s1[10:18])
~~~



### 第7关 字符串的基本操作count()

~~~python
s = "this is a python program"
# 统计单词的个数
n = s.count(' ') + 1
# 输出统计结果
print(n)
~~~



### 第8关 字符转换

~~~python
#coding=utf-8

# 获取待处理的源字符串
source_string = input()

# 请在下面添加字符串转换的代码
###### Begin ######
step1_result = source_string.strip()
step2_result = step1_result.title()
print(step2_result)
print(len(step2_result))
####### End #######
~~~



### 第9关 字符串查找与替换

~~~python
# coding = utf-8

source_string = input()

# 请在下面添加代码
###### Begin ######
result_step1 = source_string.find("day")
print(result_step1)

result_step2 = source_string.replace("day", "time")
print(result_step2)

result_step3 = result_step2.split(' ')
print(result_step3)
####### End #######
~~~



## 4.2 字符串综合练习



### 第1关 输出田字格

~~~python
# -*- coding: utf-8 -*-

x = eval(input())
#请在下面补充代码，完成程序功能
############Begin############
print("+" + "- " * x + "+" + "- " * x + "+")
for i in range(x):
    print("1" + "  " * x + "1" + "  " * x + "1")
print("+" + "- " * x + "+" + "- " * x + "+")
for i in range(x):
    print("1" + "  " * x + "1" + "  " * x + "1")
print("+" + "- " * x + "+" + "- " * x + "+")
############End##############
~~~



### 第2关 打印如下进度条

~~~python
# -*- coding: utf-8 -*-

x = eval(input())

#请在下面补充代码，完成程序功能
############Begin############
print("start" + ".." * x + "end");
############End##############
~~~



### 第3关 打印数字对应的星号

~~~python
# -*- coding: utf-8 -*-

x = input()

#请在下面补充代码，完成程序功能
############Begin############
attributes = list(map(int, x.split(',')))
attribute_names = ['武力', '速度', '智力', '统治']
for i in range(len(attributes)):
    print(f"{attribute_names[i]}是 {attributes[i]:<5}{'*' * (attributes[i] // 10)}")
############End##############
~~~



### 第4关 打印字母图形1

~~~python
# -*- coding: utf-8 -*-

x = input()

#请在下面补充代码，完成程序功能
############Begin############
for i in range(ord('A'), ord(x) + 1):
    print(chr(i) * (i - ord('A') + 1))
############End##############
~~~



### 第5关 打印字母图形2

~~~python
# -*- coding: utf-8 -*-

x = input()

#请在下面补充代码，完成程序功能
############Begin############
for i in range(ord('A'), ord(x) + 1):
    spaces = ord(x) - i
    print(' ' * spaces, end='')
    for j in range(ord('A'), i + 1):
        print(chr(j), end='')
    print()
############End##############
~~~



### 第6关 打印字母图形3

~~~python
# -*- coding: utf-8 -*-

x = input()

#请在下面补充代码，完成程序功能
############ Begin ############
for i in range(ord('A'), ord(x) + 1):
    spaces = ord(x) - i
    print(' ' * spaces, end='')
    for j in range(ord('A'), i + 1):
        print(chr(j), end='')
    for k in range(i - 1, ord('A') - 1, -1):
        print(chr(k), end='')
    print()
############ End ##############
~~~



## 4.3 课后作业字符串



### 第1关 判断回文数

~~~python
x=input("请输入一个数字")
#代码开始
if x.isnumeric():
    if x == x[::-1]:
        print(x + "是回文数")
    else:
        print(x + "不是回文数")
else:
    print("不是数字")
#代码结束
~~~



### 第2关 凯撒密码解密

~~~python
mw = input("")
#代码开始
ming = ""
for i in mw:
    if i.isupper():
        ming += chr((ord(i) - 65 - 3) % 26 + 65)
    else:
        ming += i
#代码结束
print(ming)
~~~



### 第3关 简单密码加密

~~~python
      p=input("")
y=""
#代码开始
for i in p:
    if i.isdigit():
        y += str(9 - int(i))
    elif i.islower():
        y += chr(219 - ord(i))
    elif i.isupper():
        y += chr(155 - ord(i))
#代码结束
print(y)
~~~



### 第4关 信用卡号校验

~~~python
cardid=input("请输入信用卡号")
#代码开始
odd = cardid[-1::-2]
even = cardid[-2::-2]
odd_sum = 0
even_sum = 0
for i in odd:
    odd_sum += int(i)
for i in even:
    i = int(i) * 2
    if i > 9:
        i -= 9
    even_sum += i
if (odd_sum + even_sum) % 10 == 0:
    print("合法卡号")
else:
    print("非法卡号")
#代码结束
~~~



### 第5关 ISBN校验

~~~python
x=input("")
#代码开始
sum = 0;
for i in range(9):
    sum += int(x[i]) * (10 - i)
if sum % 11 == 1:
    print(x + "X")
else:
    print(x + str(11 - sum % 11))
#代码结束
~~~



### 第6关 打印田字格

~~~python
#打印田字格
x=eval(input())
#代码开始
for i in range(1, 2 * x):
    if i == 1 or i == x or i == 2 * x - 1:
        print("* " * (2 * x - 1))
    else:
        print("* " + "  " * (x - 2) + "* " + "  " * (x - 2) + "* ")
#代码结束
~~~



### 第7关 数字汉字转换

~~~python
x=input("")
hz='零壹贰叁肆伍陆柒捌玖'
dw='拾佰仟万拾佰仟'
y=""
#代码开始
i = len(x)
for c in x[:-1]:
    if c != "0" or (c == "0" and x[-i + 1] != "0" and i != 5 and i != 9):
        y = y + hz[int(c)]
    if c != '0' or (c == '0' and ((i == 5 and y[-1] != "亿" and y[-1] != "兆") or (i == 9 and y[-1] != "兆"))):
        y = y + dw[i - 2]
    i = i - 1

if x[-1] != '0':
    y = y + hz[int(x[-1])]
y = y + "元"
#代码结束
print(y)
~~~



### 第8关 日期汉字格式转换

~~~python
x=input("")
hz="零一二三四五六七八九"
#代码开始
nf = x[:x.find("/")]
zwnf = ""
for c in nf:
    zwnf = zwnf + hz[eval(c)]
yf = x[x.find("/") + 1:x.rfind("/")]
if eval(yf) < 10:
    zwyf = hz[eval(yf)]
elif eval(yf) == 10:
    zwyf = "十"
else:
    zwyf = "十" + hz[eval(yf[-1])]
rh = x[x.rfind("/") + 1:]
if eval(rh) < 10:
    zwrh = hz[eval(rh)]
elif eval(rh) == 10:
    zwrh = "十"
elif eval(rh) % 10 == 0:
    zwrh = hz[eval(rh[0])] + "十"
else:
    if eval(rh) < 20:
        zwrh = "十" + hz[eval(rh[-1])]
    else:
        zwrh = hz[eval(rh[0])] + "十" + hz[eval(rh[-1])]
#代码结束
print(zwnf+"年"+zwyf+"月"+zwrh+"日")
~~~



### 第9关 输出格式化字符

~~~python
gl=eval(input("请输入武力"))
sd=eval(input("请输入速度"))
zl=eval(input("请输入智力"))
tzl=eval(input("请输入统治"))
#代码开始
print(f"武力是 {gl:<4}{'*' * (gl // 10)}")
print(f"速度是 {sd:<4}{'*' * (sd // 10)}")
print(f"智力是 {zl:<4}{'*' * (zl // 10)}")
print(f"统治是 {tzl:<4}{'*' * (tzl // 10)}")
#代码结束
~~~



# 第5章 Python 列表、元组、字典和集合



## 5.1 列表的基本操作



### 第1关 列表

~~~python
# 请在此处编辑您的代码
#********** Begin **********#
row_2 = ['Instagram', 0.0, 'USD', 2161558, 4.5]
print(row_2)
row_3 = ['Clash of Clans', 0.0, 'USD', 2130805, 4.5]
print(row_3)
#********** End **********#
~~~



### 第2关 索引

~~~python
row_1 = ['Facebook', 0.0, 'USD', 2974676, 3.5]
row_2 = ['Instagram', 0.0, 'USD', 2161558, 4.5]
row_3 = ['Clash of Clans', 0.0, 'USD', 2130805, 4.5]
# 请在此处编辑您的代码
#********** Begin **********#
print((row_1[3] + row_2[3] + row_3[3]) / 3)
#********** End **********#
~~~



### 第3关 负索引

~~~python
row_1 = ['Facebook', 0.0, 'USD', 2974676, 3.5]
row_2 = ['Instagram', 0.0, 'USD', 2161558, 4.5]
row_3 = ['Clash of Clans', 0.0, 'USD', 2130805, 4.5]
# 请在此处编辑您的代码
#********** Begin **********#
print((row_1[-1] + row_2[-1] + row_3[-1]) / 3)
#********** End **********#
~~~



### 第4关 检索多个列表元素

~~~python
row_1 = ['Facebook', 0.0, 'USD', 2974676, 3.5]
row_2 = ['Instagram', 0.0, 'USD', 2161558, 4.5]
row_3 = ['Clash of Clans', 0.0, 'USD', 2130805, 4.5]
row_4 = ['Temple Run', 0.0, 'USD', 1724546, 4.5]
row_5 = ['Pandora - Music & Radio', 0.0, 'USD', 1126879, 4.0]
# 请在此处编辑您的代码
#********** Begin **********#
fb_rating_data = [row_1[0], row_1[3], row_1[-1]]
insta_rating_data = [row_2[0], row_2[3], row_2[-1]]
pandora_rating_data = [row_5[0], row_5[3], row_5[-1]]

total_ratings = fb_rating_data[-1] + insta_rating_data[-1] + pandora_rating_data[-1]
avg_rating = total_ratings / 3

print(avg_rating)
#********** End **********#
~~~



### 第5关 列表分割

~~~python
row_1 = ['Facebook', 0.0, 'USD', 2974676, 3.5]
row_2 = ['Instagram', 0.0, 'USD', 2161558, 4.5]
row_3 = ['Clash of Clans', 0.0, 'USD', 2130805, 4.5]
row_4 = ['Temple Run', 0.0, 'USD', 1724546, 4.5]
row_5 = ['Pandora - Music & Radio', 0.0, 'USD', 1126879, 4.0]
# 请在此处编辑您的代码
#********** Begin **********#
first_4_fb = row_1[:4]
print(first_4_fb)

last_3_fb = row_1[-3:]
print(last_3_fb)

pandora_3_4 = row_5[2:4]
print(pandora_3_4)
#********** End **********#
~~~



### 第6关 二维列表

~~~python
row_1 = ['Facebook', 0.0, 'USD', 2974676, 3.5]
row_2 = ['Instagram', 0.0, 'USD', 2161558, 4.5]
row_3 = ['Clash of Clans', 0.0, 'USD', 2130805, 4.5]
row_4 = ['Temple Run', 0.0, 'USD', 1724546, 4.5]
row_5 = ['Pandora - Music & Radio', 0.0, 'USD', 1126879, 4.0]
# 请在此处编辑您的代码
#********** Begin **********#
app_data_set = [row_1, row_2, row_3, row_4, row_5]
avg_rating = (app_data_set[0][4] + app_data_set[1][4] + app_data_set[2][4] + app_data_set[3][4] + app_data_set[4][4]) / 5
print(avg_rating)
#********** End **********#
~~~



### 第7关 重复的过程

~~~python
row_1 = ['Facebook', 0.0, 'USD', 2974676, 3.5]
row_2 = ['Instagram', 0.0, 'USD', 2161558, 4.5]
row_3 = ['Clash of Clans', 0.0, 'USD', 2130805, 4.5]
row_4 = ['Temple Run', 0.0, 'USD', 1724546, 4.5]
row_5 = ['Pandora - Music & Radio', 0.0, 'USD', 1126879, 4.0]

app_data_set = [row_1, row_2, row_3, row_4, row_5]
# 请在此处编辑您的代码
#********** Begin **********#
for row in app_data_set:
    print(row)
#********** End **********#
~~~



### 第8关 用循环遍历列表

~~~python
row_1 = ['Facebook', 0.0, 'USD', 2974676, 3.5]
row_2 = ['Instagram', 0.0, 'USD', 2161558, 4.5]
row_3 = ['Clash of Clans', 0.0, 'USD', 2130805, 4.5]
row_4 = ['Temple Run', 0.0, 'USD', 1724546, 4.5]
row_5 = ['Pandora - Music & Radio', 0.0, 'USD', 1126879, 4.0]

app_data_set = [row_1, row_2, row_3, row_4, row_5]
# 请在此处编辑您的代码
#********** Begin **********#
rating_sum = 0
for each_row in app_data_set:
    rating_sum += each_row[-1]
avg_rating = rating_sum / len(app_data_set)
print(avg_rating)
#********** End **********#
~~~



## 5.2 玩转列表



### 第1关 列表元素的增删改：客人名单的变化

~~~python
# coding=utf-8

# 创建并初始化Guests列表
guests = []
while True:
    try:
        guest = input()
        guests.append(guest)
    except:
        break

# 请在此添加代码，对guests列表进行插入、删除等操作
###### Begin ######
deleted_guest = guests[-1]
guests.remove(deleted_guest)
guests.insert(2, deleted_guest)
deleted_obj = guests.pop(1)
print(deleted_guest)
print(guests)
#######  End #######
~~~



### 第2关 列表元素的排序：给客人排序

~~~python
# coding=utf-8

# 创建并初始化`source_list`列表
source_list = []
while True:
    try:
        list_element = input()
        source_list.append(list_element)
    except:
        break

# 请在此添加代码，对source_list列表进行排序等操作并打印输出排序后的列表
# ********** Begin *********#
source_list.sort()
print(source_list)
# ********** End **********#
~~~



### 第3关 数值列表：用数字说话

~~~python
#coding=utf-8

# 创建并读入range函数的相应参数
lower = int(input())
upper = int(input())
step = int(input())

# 请在此添加代码，实现编程要求
###### Begin ######
date_list = list(range(lower, upper, step))
print(len(date_list))
print(max(date_list) - min(date_list))
####### End #######
~~~



### 第4关 列表切片：你的菜单和我的菜单

~~~python
# coding=utf-8

# 创建并初始化my_menu列表
my_menu = []
while True:
    try:
        food = input()
        my_menu.append(food)
    except:
        break

# 请在此添加代码，对my_menu列表进行切片操作
###### Begin ######
print(my_menu[::3])
print(my_menu[-3:])
#######  End #######
~~~



## 5.3 列表的综合操作



### 第1关 欧拉筛法求素数

~~~python
n=eval(input())
#代码开始
l = []
for i in range(2, n):
    for j in range(2, i):
        if i % j == 0:
            break
    else:
        l.append(i)
#代码结束
print(l)
~~~



### 第2关 统计文档中诗人列表

~~~python
f1=open("sy8//中学诗词.txt","r",encoding='utf-8')
zj=[]
#代码开始
for r in f1.readlines():
    if r.find('。') == -1 and r.find(' ') != -1:
        zj.append(r[-r[::-1].find(' '):-1])
zj = sorted(list(set(zj)))
#代码结束
for i in range(1,len(zj)+1):
    print(i,zj[i-1])
f1.close()
~~~



### 第3关 使用列表求解约瑟夫环

~~~python
n=eval(input("输入人数"))
k=eval(input("输入序号"))
#代码开始
lb = list(range(1, n + 1))
i = 0
while len(lb) > 1:
    i = (i + k - 1) % len(lb)
    print(lb.pop(i))
print(lb[0])
#代码结束
~~~



### 第4关 两数之和

~~~python
lst1=[1,4,5,6,7,8,9,10,11,12,13,15,18,19,20,21,29,34,54,65]
n=eval(input("请输入n"))
#代码开始
i = 0
j = 0
for i in range(0, len(lst1)):
    for j in range(i + 1, len(lst1)):
        if lst1[i] + lst1[j] == n:
            print(i, j)
            break
    if lst1[i] + lst1[j] == n:
        break
if i == len(lst1) - 1 and j == len(lst1) - 1:
    print("not found")
#代码结束
~~~



### 第5关 用户数据的增加、删除、查询

~~~python
yhlb=["mary","harry","mike","tom","rose"]
mmlb=["123456","888888","999999","765432","678901"]
print("""请选择
1 用户增加
2 用户删除
3 用户查询
4 查看数据,退出系统""")
#代码开始
while True:
    xz = int(input("请输入"))
    if xz == 1:
        yhm = input("请输入用户名")
        mm = input("请输入密码")
        if yhm in yhlb:
            print("用户已经存在 无法增加")
            continue
        yhlb.append(yhm)
        mmlb.append(mm)
        print("用户已增加")
    elif xz == 2:
        yhm = input("请输入用户名")
        if yhm in yhlb:
            i = yhlb.index(yhm)
            del yhlb[i]
            del mmlb[i]
            print("用户已删除")
        else:
            print("用户不存在 无法删除")
    elif xz == 3:
        yhm = input("请输入用户名")
        if yhm in yhlb:
            i = yhlb.index(yhm)
            print(f'密码{mmlb[i]:6}')
        else:
            print("用户不存在")
    else:
        break
#代码结束
for i in range(0,len(yhlb)):
    print("用户名{:6}密码{:6}".format(yhlb[i],mmlb[i]))
~~~



## 5.4 二维列表综合练习



### 第1关 血压统计

~~~python
xy=[]
str1=input("")
while(str1!="end"):
    xyxm=str1.split(",")
    xy.append([xyxm[0],eval(xyxm[1]),eval(xyxm[2])])
    str1=input("")
#代码开始
bzc = []
for x in xy:
    if x[1] <= 60 or x[1] >= 90 or x[2] <= 90 or x[2] >= 140:
        bzc.append(x)
bfb = len(bzc) / len(xy) * 100
#代码结束
print("不正常次数百分比{:.2f}".format(bfb))
for x in bzc:
    print("日期{}舒张压{}收缩压{}".format(x[0],x[1],x[2]))
~~~



### 第2关 查找中心点

~~~python
import math

zb=[]
z=input()
while(z!="end"):
    x,y=z.split(',')
    zb.append([eval(x),eval(y)])
    z=input()
#代码开始
mins = 1000000
for a in range(len(zb)):
    sum = 0
    for b in range(len(zb)):
        sum += math.sqrt(abs(zb[a][0] - zb[b][0]) ** 2 + abs(zb[a][1] - zb[b][1]) ** 2)
    if sum < mins:
        mins = sum
        i = a
# 代码结束
print("最小值为第{}点坐标为({},{})距离之和为{:.2f}".format(i + 1, zb[i][0], zb[i][1], mins))
~~~



### 第3关 歌手评分计算

~~~python
fs=[['zhang',9.5,9.8,9.7,9.6,9.5,9.9,9.6,9.2,9.3,9.7],
    ['huang',8.5,8.8,7.7,7.6,8.5,8.3,9.1,7.8,7.5,9.3],
    ['liu',9.5,8.8,7.2,9.6,8.5,6.5,6.3,7,6.9,9],
    ['chen',9.5,9.8,8.7,8.6,7.5,8.8,8.1,9.3,9.2,9.9],
    ['lin',9.9,7.8,7.5,7.2,6.5,9.1,9.2,9.3,8.5,8.2],
    ['ye',9.8,6.8,6.2,9.3,7.5,8.3,9.1,9.4,8.7,8.9]]
for i in range(len(fs)):
    fs[i].append((sum(fs[i][1:]) - max(fs[i][1:]) - min(fs[i][1:])) / 8)
fs.sort(key=lambda x: x[-1], reverse=True)
for i in range(3):
    print('第%d名姓名%s分数%.2f' % (i + 1, fs[i][0], fs[i][-1]))
~~~



### 第4关 计算工资文件

~~~python
f1=open("sy8//工资情况.csv","r",encoding="utf-8")
jg=[]
#代码开始
for x in f1:
    x = x.strip()
    x = x.split(",")
    jg.append(x)
f1.close()
for x in jg:
    x[1] = int(x[1]) + int(x[2]) * 30 + int(x[3]) * 60
jg.sort(key=lambda x:x[1], reverse=True)
#代码结束
for y in jg:
    print("姓名{:8}\t工资{}".format(y[0],y[1]))
~~~



### 第5关 列表处理

~~~python
xlist=[]
for i in range(3):
    xlist.append([])
    for j in range(3):
        x=eval(input(""))
        xlist[i].append(x)
#代码开始
ylist = []
s = 0
for i in range(3):
    for j in range(3):
        s += xlist[i][j]
for i in range(3):
    ylist.append([])
    for j in range(3):
        if xlist[i][j] > s/9:
            ylist[i].append(1)
        else:
            ylist[i].append(0)
#代码结束
for i in range(3):
    for j in range(3):
        print(ylist[i][j],end="")
    print()
~~~



### 第6关 用户文件增加

~~~python
f1=open("sy8\\pd.csv","r")
yhm=input("用户名")
mm=input("密码")
#代码开始
for line in f1:
    yh = line.strip("\n").split(",")
    if yh[0] == yhm:
        print("用户已存在")
        break
else:
    f1 = open("sy8\\pd.csv", "a")
    f1.write(yhm + "," + mm)
    f1.close()
#代码结束
f2=open("sy8\\pd.csv","r")
for line in f2:
    yh=line.strip("\n").split(",")
    print("用户名{}密码{}".format(yh[0],yh[1]))
f2.close()
~~~



### 第7关 用户文件删除

~~~python
f1=open("sy8\\pd.csv","r")
yhm=input("用户名")
#代码开始
flag = 0
for line in f1:
    yh = line.strip("\n").split(",")
    if yhm == yh[0]:
        flag = 1
        break
if flag == 0:
    print("该用户不存在")
else:
    f1.close()
    f1 = open("sy8\\pd.csv", "r")
    f2 = open("sy8\\pd1.csv", "w")
    for line in f1:
        yh = line.strip("\n").split(",")
        if yhm != yh[0]:
            f2.write(line)
    f1.close()
    f2.close()
    f1 = open("sy8\\pd.csv", "w")
    f2 = open("sy8\\pd1.csv", "r")
    for line in f2:
        f1.write(line)
    f1.close()
    f2.close()
#代码结束
f2=open("sy8\\pd.csv","r")
for line in f2:
    yh=line.strip("\n").split(",")
    print("用户名{}密码{}".format(yh[0],yh[1]))
f2.close()
~~~



### 第8关 用户文件修改密码

~~~python
f1=open("sy8\\pd.csv","r")
yhm=input("用户名")
mm=input("密码")
#代码开始
flag = 0
for line in f1:
    yh = line.strip("\n").split(",")
    if yhm == yh[0] and mm == yh[1]:
        flag = 1
        xmm = input("新密码")
        xmm1 = input("新密码")
        if xmm1 == xmm:
            f1.close()
            f2 = open("sy8\\pd.csv", "r")
            f3 = open("sy8\\pd1.csv", "w")
            for line in f2:
                yh = line.strip("\n").split(",")
                if yhm == yh[0]:
                    f3.write(yhm + "," + xmm + "\n")
                else:
                    f3.write(line)
            f2.close()
            f3.close()
            f4 = open("sy8\\pd.csv", "w")
            f5 = open("sy8\\pd1.csv", "r")
            for line in f5:
                f4.write(line)
            f4.close()
            f5.close()
            break
        else:
            print("两次密码不一致")
if flag == 0:
    print("用户名或密码错误")
#代码结束
f2=open("sy8\\pd.csv","r")
for line in f2:
    yh=line.strip("\n").split(",")
    print("用户名{}密码{}".format(yh[0],yh[1]))
f2.close()
~~~



## 5.5 元组等序列类型及其应用



### 第1关 字符串基本操作

~~~python
#字符串基本操作

#任务1代码
s1=input()
s2=input()
#Begin 填写“=”右侧表达式

s3= s2 + s1.upper()

#End
print(s3)


#任务2代码
s4=input()
#Begin 填写“=”右侧表达式

s5= s3 * len(s4)

#End

print(s5)


#任务3代码
s6=input()
#Begin 在Begin和End间填写代码
    
print(s5.index(s6, 1, 11) - 1, s5.count(s6, 1, 11))

#End

#任务4代码
s8=input()
#Begin 填写“=”右侧表达式

s9= s5.replace("2", s8)

#End
print(s9)


#任务5代码
#Begin  在Begin和End间填写代码

print(s9[::-1])

#End
~~~



### 第2关 元组基本操作

~~~python
#元组基本操作

#任务1代码
s1=input()
s2=input()
#Begin 填写“=”右侧表达式

t1= (s1, s2)

#End
print(t1)


#任务2代码
#Begin 填写“=”右侧表达式
num=int(input())
t2= t1 + (num,)

#End
print(t2)


##任务3代码
#Begin 
n=int(input())
t3 = t2 * n
#End
print(t3)


#任务4代码
#Begin 填写“=”右侧表达式

t1,t2,t3= t2, t3, t1

#End
print(t1,t2,t3)


#任务5代码
#Begin 填写“=”右侧表达式

t4=(12,32,33,24,35,26,47,568,69,1012)
ma= max(t4)
mi= min(t4)
t= (ma + mi) * len(t4)
t5= t4 + (t,)

#End
print(t5)
~~~



### 第3关 列表基本操作

~~~python
#列表基本操作

#任务1代码
s1=input()
#Begin 

lt1= [s1]

#End

print(lt1)



#任务2 在begin和end间空白处填写代码
a=int(input())
b=int(input())
c=int(input())
#begin
lt2 = [a, b, c]
lt1.extend(lt2)
#end
print(lt1)


#任务3 在begin和end间空白处填写代码
id=input()
#begin
lt1.insert(0, id)

#end
print(lt1)


#任务4 在begin和end间空白处填写代码
#begin
lt1.remove(min(lt2))
print(lt1)

#end



#任务5 在begin和end间空白处填写代码
#begin
lt2.sort()
print(lt2)
lt3 = lt1.copy()
lt3.reverse()
print(lt3)
#end
~~~



### 第4关 综合运用

~~~python
#综合运用
#任务1 在begin和end间空白处填写代码
#begin
ss1 = input()
print(list(ss1))
print(tuple(ss1))
#end



#任务2 在begin和end间空白处填写代码
#begin
ss2 = ss1.split()
print(ss2)
#end


#任务3 在begin和end间空白处填写代码
#begin
ss3 = ss2 * 3
print('-'.join(ss3))
#end
~~~



### 第5关 5个学生3门课程的每个学生的平均分和每门课的平均分

~~~python
names = ['关羽', '张飞', '赵云', '马超', '黄忠']
courses = ['语文', '数学', '英语']
# 用生成式创建嵌套的列表保存5个学生3门课程的成绩
scores = [[0] * len(courses) for _ in range(len(names))]
#***Begin your code here***#
for row, name in enumerate(names):
    print(f'请输入{name}的成绩 ===>')
    for col, course in enumerate(courses):
        if row == len(names) - 1 and col == len(courses) - 1:
            print(f'{course}:')
        else:
            print(f'{course}: ', end='')
        scores[row][col] = int(input())
print("----- 学生平均成绩 -----")
for index, name in enumerate(names):
    avg = sum(scores[index]) / len(courses)
    print(f'{name}的平均成绩为: {avg:.1f}分')
print("----- 课程平均成绩 -----")
for index, course in enumerate(courses):
    cou_socres = [score[index] for score in scores]
    avg = sum(cou_socres) / len(names)
    print(f'{course}的平均成绩为：{avg:.1f}分')
#***End your code here***#
~~~



### 第6关 返回指定日期是这一年的第几天

~~~python
year=int(input())
month=int(input())
date=int(input())
#***Begin your code here***#
def which_day(year, month, date):
    if (year % 4 == 0 and year % 100 != 0) or year % 400 == 0:
        days = [31,29,31,30,31,30,31,31,30,31,30,31]
    else:
        days = [31,28,31,30,31,30,31,31,30,31,30,31]
    sum = 0
    for i in range(month-1):
        sum += days[i]
    sum += date
    return sum
#***End your code here***#
print(which_day(year, month, date))
~~~



### 第7关 实现双色球随机选号

~~~python
#请定义random_select函数，它返回随机选取各个位置上数字后的列表
#***Begin your code here***#
import random
def random_select():
    red_ball = [x for x in range(1,34)]
    blue_ball = [x for x in range(1,17)]
    red = random.sample(red_ball,6)
    red.sort()
    blue = random.sample(blue_ball,1)
    return red + blue
#***End your code here***#
n = int(input('机选几注: '))
for _ in range(n):
    print(len((random_select())))
~~~



### 第8关 约瑟夫环问题

~~~python
####学生代码开始######
persons = [True] * 30
counter, index, number = 0, 0, 0
while counter < 15:
    if persons[index]:
        number += 1
        if number == 9:
            persons[index] = False
            counter += 1
            number = 0
    index += 1
    index %= 30
for person in persons:
    print('女' if person else '男', end='')
~~~



## 5.6 列表、元组、集合与字典的基础操作



### 第1关 列表及操作

~~~python
#coding = utf-8
#********* Begin *********#
#第一步 请在列表fruits中找出不属于水果一类元素，赋值给变量 a
fruit = ["苹果","梨子","菠萝","黄瓜","香蕉"]
a = "黄瓜"
    
#第二步 将变量 a 的值添加到列表vegetable 的末尾
vegetable = ["土豆","萝卜","茄子","白菜"]
vegetable.append(a)

#第三步 删去列表fruit中不属于水果的元素
fruit.remove(a)

#第四步 将列表fruit和列表vegetable作为元素按顺序加入到列表food中
food = []
food.append(fruit)
food.append(vegetable)

#补充print语句，先打印输出列表food，再打印输出列表food中第1个列表的第3个元素
print(food)
print(food[0][2])
#********* End *********#
~~~



### 第2关 元组及操作

~~~python
#coding = utf-8
#********* Begin *********#
#第一题  列表和元组相互转换，修改元组中的数据

#第一步  将元组 fruit 转换为一个名为 fruit 的列表并打印输出
fruit = ("苹果","梨子","菠萝","黄瓜","香蕉")
fruit = list(fruit)
print(fruit)


#第二步  在上一步得到的列表 fruit 通过索引位置将"黄瓜"去掉并打印输出
fruit.pop(3)


print(fruit)

#第三步  将上一步的到的列表 fruit 转换为元组并打印输出

fruit = tuple(fruit)
print(fruit)


#第二题  通过元组的嵌套修改元组中的数据

#第一步  创建元组 food 将列表 fruit 和 vegetable 放入其中并打印输出元组food

fruit = ["苹果","梨子","菠萝","黄瓜","香蕉"]
vegetable = ["土豆","萝卜","茄子","白菜"]
food = (fruit,vegetable)
print(food)

#第二步  打印输出上一步得到的元组 food 的第一个元素（列表fruit）

print(food[0])

#第三步  通过索引位置去掉元组 food 的第一个元素（列表fruit）的"黄瓜"

food[0].pop(3)

print(food[0])          #打印输出元组 food 的第一个元素

#第四步  打印输出元组 food 

print(food)
#********* End *********#
~~~



### 第3关 集合及操作

~~~python
# -*- coding: utf-8 -*-
#********* Begin *********#
#第一步 请将列表fruit转换为一个集合
fruit = ["苹果","梨子","菠萝","黄瓜","香蕉"]
fruit = set(fruit)


#第二步 将集合fruit中的“黄瓜”去掉
fruit.remove("黄瓜")


#第三步 使用"in"判断"黄瓜"是否在fruit中，将判断结果打印输出

print("黄瓜" in fruit)


#第四步 创建空集合food，输出集合food的长度
food = set()

print(len(food))

#第五步 将fruit和vegetable通过集合运算“并集”合并到food并输出此时food的长度

vegetable = {"土豆","萝卜","茄子","白菜"}
food = fruit | vegetable
print(len(food))
#********* End *********#
~~~



### 第4关 字典及操作

~~~python
# -*- coding: utf-8 -*-
#********* Begin *********#
#第一步 创建一个空字典 menu


#第二步 将列表fruit中水果与prices中的价格对应给menu赋值并输出
fruit = ["苹果","梨子","菠萝","黄瓜","香蕉"]
prices = [2,3,10,2,1]
menu = {fruit[i]:prices[i] for i in range(len(fruit))}
print(menu)

#第三步 将20块钱的"哈密瓜"添加到字典menu中并输出
menu["哈密瓜"] = 20
print(menu)

#第四步 将"黄瓜"从menu中去掉并输出
menu.pop("黄瓜")
print(menu)

#第五步 将菠萝的价格修改为9.9，打印输出menu
menu["菠萝"] = 9.9
print(menu)
#********* End *********#
~~~



### 第5关 集合的应用：判断是否出现所有字母

~~~python
x = input()
jh = set()
for i in x:
    if i.isalpha():
        jh.add(i.lower())
if len(jh) == 26:
    print("True")
else:
    print("False")
~~~



### 第6关 集合的应用：统计活动

~~~python
hd1=set()
hd2=set()
gh=input("")
lb=gh.split(',')
for x in lb:
    hd1.add(eval(x))
gh=input("")
lb=gh.split(',')
for x in lb:
    hd2.add(eval(x))
#代码开始
hd3 = hd1 & hd2
hd4 = hd1 - hd2
hd5 = hd2 - hd1
#代码结束
print("两项活动都参加",hd3)
print("只参加活动1",hd4)
print("只参加活动2",hd5)
~~~



## 5.7 Python组合数据类型的综合应用



### 第1关 元组的使用：这份菜单能修改吗？

~~~python
# coding=utf-8

# 创建并初始化menu_list列表
menu_list = []
while True:
    try:
        food = input()
        menu_list.append(food)
    except:
        break

# 请在此添加代码，对menu_list进行元组转换以及元组计算等操作，并打印输出元组及元组最大的元素
###### Begin ######
menu_tuple = tuple(menu_list)
print(menu_tuple)
print(max(menu_tuple))
#######  End #######
~~~



### 第2关 字典的使用：这份菜单可以修改

~~~python
# coding=utf-8

# 创建并初始化menu_dict字典
menu_dict = {}
while True:
    try:
        food = input()
        price = int(input())
        menu_dict[food]= price
    except:
        break

#请在此添加代码，实现对menu_dict的添加、查找、修改等操作，并打印输出相应的值
###### Begin ######
menu_dict['lamb'] = 50
print(menu_dict['fish'])
menu_dict['fish'] = 100
del menu_dict['noodles']
print(menu_dict)
#######  End #######
~~~



### 第3关 字典的遍历：菜名和价格的展示

~~~python
# coding=utf-8

# 创建并初始化menu_dict字典
menu_dict = {}
while True:
    try:
        food = input()
        price = int(input())
        menu_dict[food]= price
    except:
        break

#请在此添加代码，实现对menu_dict的遍历操作并打印输出键与值
###### Begin ######
for key in menu_dict:
    print(key)
for value in menu_dict.values():
    print(value)
#######  End #######
~~~



### 第4关 嵌套 - 菜单的信息量好大

~~~python
#coding=utf-8

#初始化menu1字典，输入两道菜的价格
menu1 = {}
menu1['fish']=int(input())
menu1['pork']=int(input())

#menu_total列表现在只包含menu1字典
menu_total = [menu1]

# 请在此添加代码，实现编程要求
#********** Begin *********#
menu2 = {}
menu2['fish']=menu1['fish']*2
menu2['pork']=menu1['pork']*2
menu_total.append(menu2)
#********** End **********#

#输出menu_total列表
print(menu_total)
~~~



### 第5关 人名统计

~~~python
# -*- coding:utf-8 -*-
s='''双儿 洪七公 赵敏 赵敏 逍遥子 鳌拜 殷天正 金轮法王 乔峰 杨过 洪七公 郭靖 
       杨逍 鳌拜 殷天正 段誉 杨逍 慕容复 阿紫 慕容复 郭芙 乔峰 令狐冲 郭芙 
       金轮法王 小龙女 杨过 慕容复 梅超风 李莫愁 洪七公 张无忌 梅超风 杨逍 
       鳌拜 岳不群 黄药师 黄蓉 段誉 金轮法王 忽必烈 忽必烈 张三丰 乔峰 乔峰 
       阿紫 乔峰 金轮法王 袁冠南 张无忌 郭襄 黄蓉 李莫愁 赵敏 赵敏 郭芙 张三丰 
       乔峰 赵敏 梅超风 双儿 鳌拜 陈家洛 袁冠南 郭芙 郭芙 杨逍 赵敏 金轮法王 
       忽必烈 慕容复 张三丰 赵敏 杨逍 令狐冲 黄药师 袁冠南 杨逍 完颜洪烈 殷天正 
       李莫愁 阿紫 逍遥子 乔峰 逍遥子 完颜洪烈 郭芙 杨逍 张无忌 杨过 慕容复 
       逍遥子 虚竹 双儿 乔峰 郭芙 黄蓉 李莫愁 陈家洛 杨过 忽必烈 鳌拜 王语嫣 
       洪七公 韦小宝 阿朱 梅超风 段誉 岳灵珊 完颜洪烈 乔峰 段誉 杨过 杨过 慕容复 
       黄蓉 杨过 阿紫 杨逍 张三丰 张三丰 赵敏 张三丰 杨逍 黄蓉 金轮法王 郭襄 
       张三丰 令狐冲 赵敏 郭芙 韦小宝 黄药师 阿紫 韦小宝 金轮法王 杨逍 令狐冲 阿紫 
       洪七公 袁冠南 双儿 郭靖 鳌拜 谢逊 阿紫 郭襄 梅超风 张无忌 段誉 忽必烈 
       完颜洪烈 双儿 逍遥子 谢逊 完颜洪烈 殷天正 金轮法王 张三丰 双儿 郭襄 阿朱 
       郭襄 双儿 李莫愁 郭襄 忽必烈 金轮法王 张无忌 鳌拜 忽必烈 郭襄 令狐冲 
       谢逊 梅超风 殷天正 段誉 袁冠南 张三丰 王语嫣 阿紫 谢逊 杨过 郭靖 黄蓉 
       双儿 灭绝师太 段誉 张无忌 陈家洛 黄蓉 鳌拜 黄药师 逍遥子 忽必烈 赵敏 
       逍遥子 完颜洪烈 金轮法王 双儿 鳌拜 洪七公 郭芙 郭襄 赵敏'''
s = s.split()
d = {}
for i in s:
    if i in d:
        d[i] += 1
    else:
        d[i] = 1
print(f'{max(d, key=d.get)}:{d[max(d, key=d.get)]}')
~~~



### 第6关 元组的使用：日期格式转换

~~~python
x=input("输入日期")
#开始
month = ("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")
x = x.split("/")
y = month[int(x[1]) - 1] + " " + x[2] + "," + x[0]
z = x[2] + " " + month[int(x[1]) - 1] + "," + x[0]
#结束
print("美式格式"+y)
print("英式格式"+z)
~~~



### 第7关 二维元组的使用

~~~python
cp=(("悠哉悠哉",18),("人间烟火",17),("蔓越阑珊",17),("抹茶葡提",16),("幽兰拿铁",16),("  翠翠  ",13),("浮生半日",15),("筝筝纸鸢",16),("声声乌龙",15),("风栖绿桂",12),("素颜锡兰",13),("烟火易冷",15))
#代码开始
for i in range(0, 12):
    print(f'{i + 1:>2}{cp[i][0]}{cp[i][1]}')
sum = 0
while True:
    n = int(input("请选择饮品"))
    if n == 0:
        break
    m = int(input("请输入数量"))
    sum += cp[n - 1][1] * m
print(f'应付{sum}元')
#代码结束
~~~



# 第6章 Python 函数与模块



## 6.1 函数基础



### 第1关 内置函数 - 让你偷懒的工具

~~~python
#coding=utf-8

#输入一个整数n
n =  int(input())

# 请在此添加代码，实现编程要求
#********** Begin *********#
def prime(n):
    if n == 1:
        return False
    for i in range(2, n):
        if n % i == 0:
            return False
    return True
#********** End **********#
print(prime(n))
~~~



### 第2关 函数正确调用 - 得到想要的结果

~~~python
#coding=utf-8

#输入数字字符串，并转换为数值列表
a = input()
num1 = eval(a)
numbers = list(num1)

# 请在此添加函数bubbleSort代码，实现编程要求
#********** Begin *********#
def bubbleSort(numbers):
    for i in range(len(numbers)-1):
        for j in range(len(numbers)-1-i):
            if numbers[j]>numbers[j+1]:
                numbers[j],numbers[j+1]=numbers[j+1],numbers[j]
    return numbers
#********** End **********#
print(bubbleSort(numbers))
~~~



### 第3关 函数与函数调用 - 分清主次

~~~python
#coding=utf-8

from math import pi as PI

n = int(input())

# 请在此添加函数circle_area的代码，返回以n为半径的圆面积计算结果
#********** Begin *********#
def circle_area(n):
    if type(n) == int or type(n) == float:
        return format(PI * n * n, '.2f')
    else:
        print("You must input an integer or float as radius.")
        return None
#********** End **********#
print(circle_area(n))
~~~



### 第4关 函数的参数 - 搭建函数房子的砖

~~~python
# 创建一个空列表numbers
numbers = []

# str用来存储输入的数字字符串，lst1是将输入的字符串用空格分割，存储为列表
str = input()
lst1 = str.split(' ')

# 将输入的数字字符串转换为整型并赋值给numbers列表
for i in range(len(lst1)):
   numbers.append(int(lst1.pop()))

# 请在此添加代码，对输入的列表中的数值元素进行累加求和
########## Begin ##########
def plus(lst):
    if len(lst) == 1:
        return lst[0]
    else:
        return lst[0] + plus(lst[1:])
    
d = plus(numbers)
########## End ##########

print(d)
~~~



### 第5关 函数的返回值 - 可有可无的 return

~~~python
# coding=utf-8

# 输入两个正整数a,b
a = int(input())
b = int(input())

# 请在此添加代码，求两个正整数的最大公约数
########## Begin ##########
def gcd(a, b):
    if a < b:
        a, b = b, a
    while b != 0:
        a, b = b, a % b
    return a
########## End ##########

# 调用函数，并输出最大公约数
print(gcd(a,b))
~~~



### 第6关 函数的使用范围：Python 作用域

~~~python
# coding=utf-8

# 输入两个正整数a,b
a = int(input())
b = int(input())

# 请在此添加代码，求两个正整数的最小公倍数
########## Begin ##########
def lcm(a,b):
    if a > b:
        greater = a
    else:
        greater = b
    while(True):
        if((greater % a == 0) and (greater % b == 0)):
            lcm = greater
            break
        greater += 1
    return lcm
########## End ##########

# 调用函数，并输出a,b的最小公倍数
print(lcm(a,b))
~~~



## 6.2 函数练习



### 第1关 第一个函数

~~~python
# coding:utf-8 

deg = float(input())

def F(C):
#请在此添加代码，将摄氏度deg转换为华氏度
#********** Begin *********#
    F = C * 1.8 + 32
    return F
#**********  End  *********#

print ("%.2f" %(F(deg)))
~~~



### 第2关 在函数中修改全局变量

~~~python
# coding:utf-8 

counter = 0

def access():
#请在此添加代码，实现counter的调用，每次调用counter的值加1
#********** Begin *********#
    global counter
    counter += 1
#********** End **********#
  
for i in range(5):
  access()
  
print (counter)
~~~



### 第3关 练习使用参数

~~~python
# coding:utf-8 
from math import sqrt

a = float(input()); b = float(input()); c = float(input())

def roots(a,b,c):
#请在此添加代码，求方程 ax^2+bx+c = 0的解,返回由方程根构成的列表,若方程有无数解，返回['inf']
#********** Begin *********#
    if a == 0:
        if b == 0:
            if c == 0:
                return ['inf']
            else:
                return []
        else:
            return [-c/b]
    else:
        delta = b**2 - 4*a*c
        if delta < 0:
            return []
        elif delta == 0:
            return [-b/(2*a)]
        else:
            return [(-b-sqrt(delta))/(2*a), (-b+sqrt(delta))/(2*a)]
#********** End **********#
print (roots(a,b,c))
~~~



### 第4关 具有多个返回值的函数

~~~python
# coding:utf-8
from math import sqrt

a=float(input()); b=float(input()); c=float(input())

def roots(a, b, c):
#请在此添加代码，在a不等于0的情况下编写函数求解方程的两个根并将根返回
#********** Begin *********#
    d = b*b - 4*a*c
    return (-b+sqrt(d))/(2*a),(-b-sqrt(d))/(2*a)
#********** End **********#

if a != 0:
    print (roots(a,b,c))
~~~



### 第5关 Lambda 表达式

~~~python
# coding:utf-8
from math import sin, cos
delX = 0.001

x = float(input())

def diff(f):
#请在此添加代码，求出函数f的导数
#********** Begin *********#
    return lambda x:(f(x + delX) - f(x - delX)) / (2 * delX)
#**********  End  *********#

print("%.2f"%(diff(sin)(x)))
~~~



### 第6关 使用关键字参数

~~~python
# coding:utf-8 
from math import sin, cos

x = float(input())

#请在此添加代码，自行定义diff函数并实现此函数
#********** Begin *********#
def diff(f):
    f1=lambda x:(f(x+0.01)-f(x-0.01))/(2*0.01)
    return f1
#********** End **********#

print("%.6f"%(diff(sin)(x)))
~~~



### 第7关 使用可变长参数

~~~python
# coding:utf-8
import random
from functools import reduce

n = input()  # useless
n = random.randint(5,10)
L = []
for i in range(n):
 L.append(random.randint(1,n))
 
def sum_of_paras(*arg):
#请在此添加代码，返回参数列表 arg 中所有数的和
#********** Begin *********#
    sum = 0
    for i in arg:
        sum += i
    return sum
#**********  End  *********#
    
strcall = "sum_of_paras(";
strcall += reduce(lambda x, y: x+","+y, [str(s) for s in L])
strcall +=")"

if eval(strcall) == sum(L):
  print("Y")
else:
  print("N")
~~~



### 第8关 使用递归

~~~python
# coding:utf-8


Lst = input()
Lst = Lst.split(',')

def abs_sum(L):
#请在此添加代码，以递归的方式设计函数abs_sum(L)返回列表L（假设其中全是整数）中所有整数绝对值之和
#********** Begin *********#
    if len(L) == 1:
        return abs(int(L[0]))
    else:
        return abs(int(L[0])) + abs_sum(L[1:])
#**********  End  *********#

print(abs_sum(Lst))
~~~



## 6.3 函数高级



### 第1关 定义判断质数的函数

~~~python
def isprime(a):
#代码开始
    if a==1:
        return False
    for i in range(2,a):
        if a%i==0:
            return False
    return True
#代码结束
n=eval(input("请输入一个数"))
if isprime(n):
    print(n,"是一个质数")
else:
    print(n,"不是一个质数")
~~~



### 第2关 绝对质数

~~~python
from isprime import *
#代码开始
def isprime(n):
    for i in range(2, n):
        if n % i == 0:
            return False
    return True
c = 0
for i in range(10, 100):
    t = i % 10 * 10 + i // 10
    if isprime(i) and isprime(t):
        print(i, end='    ')
        c += 1
        if c % 3 == 0:
            print()
#代码结束
~~~



### 第3关 验证哥赫巴德猜想

~~~python
from isprime import *
#代码开始
for i in range(4,100,2):
    for j in range(2,i):
        if isprime(j) and isprime(i-j):
            print('%2d=%2d+%2d\t'%(i,j,i-j),end='')
            if (i-2)%10==0:
                print()
            break
#代码结束
~~~



### 第4关 判断三角形类型

~~~python
def sjx(a,b,c):
    #代码开始
    lx=0
    if a+b>c and a+c>b and b+c>a:
        if a==b and b==c:
            lx=1
        elif a==b or b==c or a==c:
            lx=2
        elif a*a+b*b==c*c or a*a+c*c==b*b or b*b+c*c==a*a:
            lx=3
        else:
            lx=4
    #代码结束
    return lx
x=eval(input())
y=eval(input())
z=eval(input())
#代码开始
m=sjx(x,y,z)
#代码结束
if m==0:
    print("不能构成三角形")
elif m==1:
    print("等边三角形")
elif m==2:
    print("等腰三角形")
elif m==3:
    print("直角三角形")
else:
    print("一般三角形")
~~~



### 第5关 成语字典精确查询

~~~python
def cyjl():
    f1=open("sy10//成语.txt","r",encoding="utf8")
    #代码开始
    for line in f1:
        cy = line[:line.find(" ")].strip()
        js = line[line.find(" ") + 1:].strip()
        cyzd[cy] = js
    #代码结束
    f1.close()

def jqcx():
#代码开始
    x = input("请输入成语")
    if x not in cyzd:
        print("没有此成语")
    else:
        print(cyzd[x])
#代码结束

    


cyzd={}
cyjl()
c=input("1精确查询0退出")
while c!="0":
    #代码开始
    if c == "1":
        jqcx()
    c = input("1精确查询0退出")
    #代码结束
~~~



### 第6关 成语字典模糊查询

~~~python
def cyjl():
    f1=open("sy10//成语.txt","r",encoding="utf8")
    for line in f1:
        cy=line[:line.find("拼音")].strip()
        cyjx=line[line.find("拼音"):].strip()
        cyzd[cy]=cyjx
    f1.close()

def mhcx():
#代码开始
    x=input("请输入词语")
    for i in cyzd:
        if x in i:
            print(i)
#代码结束

    
def jqcx(): 
    x=input("请输入成语")
    if x not in cyzd.keys():
        print("成语不存在")
    else:
        print(cyzd[x])

cyzd={}
cyjl()
c=input("1精确查询2模糊查询0退出")
while c!="0":
    #代码开始
    if c == "1":
        jqcx()
    else:
        mhcx()
    c=input("1精确查询2模糊查询0退出")
    #代码结束
~~~



### 第7关 成语接龙小游戏

~~~python
def cyjl():
    f1=open("sy10//成语.txt","r",encoding="utf8")
    for line in f1:
        cy=line[:line.find("拼音")].strip()
        cyjx=line[line.find("拼音"):].strip()
        cyzd[cy]=cyjx
    f1.close()

def mhcx():
    x=input("请输入成语")
    for y in cyzd.keys():
        if x  in y:
            print(y)

    
def jqcx():
    x=input("请输入成语") 
    if x not in cyzd.keys():
        print("成语不存在")
    else:
        print(cyzd[x])

def yx():
    cy = input("请输入成语")
    jg = cyzd.get(cy, "n")
    flag = 0
    while True:
        if jg == "n":
            print("非法成语，你输了")
            break
        for x in cyzd:
            if x[0] == cy[-1]:
                print(x)
                jgx = x
                cy = input("请输入成语")
                jg = cyzd.get(cy, "n")
                break
        else:
            print("你赢了")
            flag = 1
        if flag == 1:
            break
        if cy[0] != jgx[-1]:
            print("没有接龙，你输了")
            break


cyzd={}
cyjl()
c=input("1精确查询2模糊查询3成语接龙0退出")
while c!="0":
        if  c=="1":
            jqcx()
        elif c=="2":
            mhcx()
        elif c=="3":
            yx()
        c=input("1精确查询2模糊查询3成语接龙0退出")
~~~



## 词频统计中文分词jieba库的使用



### 第1关 英文分词和词频统计

~~~python
#开始你的程序#
text = input()
for ch in '!@#$%:^&*()-.;':
    text = text.replace(ch, " ")
words = text.lower().split()
counts = {}
for word in words:
    if word in counts:
        counts[word] = counts[word] + 1
    else:
        counts[word] = 1
items = list(counts.items())
items.sort(key=lambda x: x[1], reverse=True)
for i in range(3):
    word, count = items[i]
    print("{0}：{1}".format(word, count))
~~~



### 第2关 中文分词工具jieba库的使用

~~~python
#开始你的程序#
import jieba

str = input()
jqms = jieba.cut(str, cut_all=False)
ssyqms = jieba.cut_for_search(str)
print("精确模式：" + "/".join(jqms), end='  ')
print("搜索引擎模式：" + " /".join(ssyqms))
~~~



### 第3关 汉姆雷特英文词频统计

~~~python
excludes = {"the","and","of","you","a","i","my","in"}
txt = open("hamlet.txt", "r").read()
#开始你的程序#
for ch in '!"#$%&()*+,-./:;<=>?@[\]^_‘{|}~':
    txt = txt.replace(ch, " ")
words = txt.lower().split()
counts = {}
for word in words:
    counts[word] = counts.get(word, 0) + 1
for word in excludes:
    del (counts[word])
items = list(counts.items())
items.sort(key=lambda x: x[1], reverse=True)
#学生代码结束#
for i in range(10):
    word, count = items[i]
    print ("{0:<10}{1:>5}".format(word, count))
~~~



### 第4关 三国演义词频统计

~~~python
import jieba
txt = open("三国演义.txt", "r", encoding='utf-8').read()
#开始你的程序#
words = jieba.lcut(txt)
counts = {}
for word in words:
    if len(word) == 1:
        continue
    else:
        counts[word] = counts.get(word, 0) + 1
items = list(counts.items())
items.sort(key = lambda x:x[1], reverse = True)
#学生代码结束#
for i in range(5):
    word, count = items[i]
    print ("{0:<10}{1:>5}".format(word, count))
~~~



# 第7章 Python 文件操作



## 7.1 文件操作



### 第1关 从文件中读取数据：信息时代已经到来

~~~python
#coding=utf-8

#输入n
n = int(input())

with open('src/Step1/test.txt') as file_object:
    lines = file_object.readlines()

# 请在此添加代码，实现编程要求
#********** Begin *********#
for line in range(n):
    print(lines[line].strip())
#********** End **********#
~~~



### 第2关 将信息写入文件：会读会写方为正道

~~~python
#coding=utf-8

#输入字符串
s = input()

# 请在此添加代码，将字符串s输入到test2.txt中
#********** Begin *********#
with open('src/Step2/test2.txt','w') as file_object:
    file_object.write(s)
#********** End **********#

#输出test2.txt中的内容
with open('src/Step2/test2.txt') as file_object:
    lines = file_object.readlines()
for line in lines:
    print(line.rstrip())
~~~



### 第3关 学习-Python文件之文本文件的顺序读写

~~~python
f = open("step5/data.csv","r")
######### Begin ##########
# 请使用 open 函数读取文件中的指定内容
result = f.readlines()[-1]
print("文件中的数字内容为：%s"%result.split(":")[-1].strip())
f.close()
########## End ##########
~~~



### 第4关 目录与文件操作

~~~python
# -*- coding: utf-8 -*-
# 1-8 目录和文件操作
import os

# 第一步：在代码文件当前目录下创建目录，目录名为：fib1000
# 若fib1000目录不存在，创建该目录
myDir = os.getcwd() + r'\fib1000'
###### Begin ######
path=r"fib1000\fib_data.txt"
f = open(path, "w")
####### End #######
# 第二步：将斐波那契数列的前1000个数据以如下格式写入文件fib_data.txt，
# 格式：
#     第1个数是：0
#     第2个数是：1
#     ......
print("正在将斐波那契数列的前1000个数据写入文件...")
f1path = myDir + r"\fib_data.txt"
###### Begin ######
a = 0
b = 1
f.write("第1个数是：" + str(a)+"\n")
f.write("第2个数是：" + str(b)+"\n")
for i in range(3, 1001):
    c = a + b
    f.write("第 "+str(i)+" 个数是：" + str(c)+"\n")
    a = b
    b = c
####### End #######
print("完成！")
print("fib_data 已保存")
# 第三步：截取fib.txt文件的第899-920行，并写入新文件fib_part_data.txt
###### Begin ######
f.close()
f=open(path, "r")
f2path =r"fib1000\fib_part_data.txt"
f1=open(f2path, "w+")
print("正在截取数据...")
lines=f.readlines()
for i in range(898, 920):
    f1.write(lines[i])
####### End #######
print("完成！")
print("fib_part_data 已保存")
# 显示fib_part_data.txt文件内容
###### Begin ######
f1.seek(0)
lines=f1.readlines()
for i in lines:
    print(i)
    f1.close()
####### End #######
~~~



# 第9章 数据处理和可视化



## numpy相关操作



### NumPy基础及取值操作



#### 第1关 ndarray对象

~~~python
import numpy as np


def print_ndarray(input_data):
    '''
    实例化ndarray对象并打印
    :param input_data: 测试用例，类型为字典类型
    :return: None
    '''

    #********* Begin *********#
    data = input_data['data']
    print(np.array(data))
    #********* End *********#
~~~



#### 第2关 形状操作

~~~python
import numpy as np


def reshape_ndarray(input_data):
    '''
    将ipnut_data转换成ndarray后将其变形成一位数组并打印
    :param input_data: 测试用例，类型为list
    :return: None
    '''

    #********* Begin *********#
    arr = np.array(input_data)
    print(arr.reshape(-1))
    #********* End *********#
~~~



#### 第3关 基础操作

~~~python
import numpy as np


def get_answer(input_data):
    '''
    将input_data转换成ndarray后统计每一行中最大值的位置并打印
    :param input_data: 测试用例，类型为list
    :return: None
    '''

    #********* Begin *********#
    input_data = np.array(input_data)
    print(np.argmax(input_data,axis=1))
    #********* End *********#
~~~



#### 第4关 随机数生成

~~~python
import numpy as np

def shuffle(input_data):
    '''
    打乱input_data并返回打乱结果
    :param input_data: 测试用例输入，类型为list
    :return: result，类型为list
    '''

    # 保存打乱的结果
    result = []
    #********* Begin *********#
    result=list(np.random.choice(input_data,size=len(input_data),replace=False))
    #********* End *********#
    return result
~~~



#### 第5关 索引与切片

~~~python
import numpy as np

def get_roi(data, x, y, w, h):
    '''
    提取data中左上角顶点坐标为(x, y)宽为w高为h的ROI
    :param data: 二维数组，类型为ndarray
    :param x: ROI左上角顶点的行索引，类型为int
    :param y: ROI左上角顶点的列索引，类型为int
    :param w: ROI的宽，类型为int
    :param h: ROI的高，类型为int
    :return: ROI，类型为ndarray
    '''

    #********* Begin *********#
    return data[x:x+h+1, y:y+w+1]
    #********* End *********#
~~~



### Numpy综合操作练习



#### 第1关 Numpy创建数组

~~~python
# 引入numpy库
import numpy as np
# 定义cnmda函数
def cnmda(m,n):
    '''
    创建numpy数组
    参数：
           m:第一维的长度
           n: 第二维的长度
    返回值:
        ret: 一个numpy数组
    '''
    
    ret = 0
    
    # 请在此添加创建多维数组的代码并赋值给ret
    #********** Begin *********#
    b=np.arange(n);
    ret=np.array([b]*m)
    #********** End **********#
    
    return ret
~~~



#### 第2关 Numpy数组的基本运算

~~~python
# 引入numpy库
import numpy as np
# 定义opeadd函数
def opeadd(m,b,n):
    '''
    参数：
    m:是一个数组
    b:是一个列表
    n:是列表中的索引
    你需要做的是 m+b[n]
    返回值:
    ret: 一个numpy数组
    '''    
    ret = 0

    #********** Begin *********#
    ret=m+b[n]
      #********** End **********#

    return ret
# 定义opemul函数
def opemul(m,b,n):
    '''
    参数：
    m:是一个数组
    b:是一个列表
    n:是列表中的索引
    你需要做的是 m*b[n]
    返回值:
    ret: 一个numpy数组
    '''
    ret = 0

    #********** Begin *********#
    ret=m*b[n]
    #********** End **********#
    return ret
~~~



#### 第3关 Numpy数组的切片与索引

~~~python
# 引入numpy库
import numpy as np
# 定义cnmda函数
def ce(a,m,n):
    '''
    参数：
    a:是一个Numpy数组
    m:是第m维数组的索引
    n:第m维数组的前n个元素的索引
    返回值:
    ret: 一个numpy数组
    '''
    ret = 0
    # 请在此添加切片的代码,实现找出多维数组a中第m个数组的前n个元素 并赋值给ret
    #********** Begin *********#
    ret=a[m,:n]
    #********** End **********#
    return ret
~~~



#### 第4关 Numpy数组的堆叠

~~~python
# 引入numpy库
import numpy as np
# 定义varray函数
def  varray(m,n):
    '''
    参数：
    m：是第一个数组
    n：是第二个数组
    返回值:
    ret: 一个numpy数组
    '''
    ret = 0
    # 请在此添加代码实现数组的垂直叠加并赋值给ret
    #********** Begin *********#
    ret=np.vstack((m,n))
    #********** End **********#
    return ret
# 定义darray函数
def  darray(m,n):
    '''
    参数：
    m：是第一个数组
    n：是第二个数组
    返回值:
    ret: 一个numpy数组
    '''
    ret = 0
    # 请在此添加代码实现数组的深度叠加并赋值给ret
    #********** Begin *********#
    ret=np.dstack((m,n))
    #********** End **********#
    return ret
 # 定义harray函数
def  harray(m,n):
    '''
    参数：
    m：是第一个数组
    n：是第二个数组
    返回值:
    ret: 一个numpy数组
    '''
    ret = 0
    # 请在此添加代码实现数组的水平叠加并赋值给ret
    #********** Begin *********#
    ret=np.hstack((m,n))
    #********** End **********#
    return ret
~~~



#### 第5关 Numpy的拆分

~~~python
# 引入numpy库
import numpy as np
# 定义varray函数
def  vsarray(m,n):
    '''
    参数：
    m：是第一个数组
    n：是需要拆分到的维度
    返回值:
    ret: 一个numpy数组
    '''
    ret = 0
    # 请在此添加代码实现数组的纵向拆分并赋值给ret
    #********** Begin *********#
    ret=np.vsplit(m,n)
    #********** End **********#
    return ret
# 定义darray函数
def  dsarray(m,n):
    '''
    参数：
    m：是第一个数组
    n：是需要拆分到的维度
    返回值:
    ret: 一个numpy数组
    '''
    ret = 0
    # 请在此添加代码实现数组的深度拆分并赋值给ret
    #********** Begin *********#
    ret=np.dsplit(m,n)
    #********** End **********#
    return ret
 # 定义harray函数
def  hsarray(m,n):
    '''
    参数：
    m：是第一个数组
    n：是需要拆分到的维度
    返回值:
    ret: 一个numpy数组
    '''
    ret = 0
    # 请在此添加代码实现数组的水平拆分并赋值给ret
    #********** Begin *********#
    ret=np.hsplit(m,n)
    #********** End **********#
    return ret
~~~



## pandas数据处理



### pandas数据处理



#### 第1关 将超市销售excel文件根据商品的类别筛选存储

~~~python
import pandas as pd
df=pd.read_excel("xlscl/step1/超市销售数据.xlsx",dtype={"商品编码":str,"商品条码":str})
writer = pd.ExcelWriter("xlscl/step1/类别销售.xlsx")
#代码开始
df_ = df["类别"].unique()
for x in df_:
    dfdata = df.loc[df["类别"] == x]
    dfdata.to_excel(writer, sheet_name=x, index=False)
writer.save()
#代码结束
~~~



#### 第2关 将银行信息excel文件按地区筛选存储

~~~python
import pandas
writer = pandas.ExcelWriter('test/银行一线城市.xlsx')
data=pandas.read_excel("test/银行信息.xlsx",dtype={"银行编号":str})
#代码开始
dq = ["北京市", "上海市", "广州市", "深圳市"]
for x in dq:
    data1 = data.loc[data["城市"] == x, ["银行编号", "名称"]]
    data1 = data1.sort_values("银行编号")
    data1.to_excel(writer, sheet_name = x, index = False)
#代码结束
writer.save()
~~~



#### 第3关 将gdpecxcel文件按年份筛选存储

~~~python
import pandas
writer = pandas.ExcelWriter('test/GDP分年份.xlsx')
data=pandas.read_excel("test/各省GDP.xlsx",dtype={"年份":str},)
#代码开始
for x in range(2000, 2017):
    data1 = data.loc[data["年份"] == str(x), ["省份", "GDP"]]
    data1 = data1.sort_values("GDP", ascending = False)
    data1.to_excel(writer, sheet_name = str(x), index = False)
#代码结束
writer.save()
~~~



#### 第4关 统计超市销售excel文件各类别和各日的数据，并将统计结果存入新的工作簿

~~~python
import pandas as pd
df=pd.read_excel("xlscl/step1/超市销售数据.xlsx")
writer = pd.ExcelWriter('xlscl/step2/统计数据.xlsx')
#代码开始
df2 = df.groupby("类别")["合计金额"].sum()
df2.sort_values(ascending = False, inplace = True)
df2.to_excel(writer, sheet_name = "类别统计")
df3 = df.groupby("日期")["合计金额"].sum()
df2.sort_index(inplace = True)
df3.to_excel(writer, sheet_name = "日期统计")
writer.save()
#代码结束
~~~



#### 第5关 将超市销售excel文件分别存放在多个日期工作簿的不同类别工作表中

~~~python
import pandas as pd
df=pd.read_excel("xlscl/step1/超市销售数据.xlsx",dtype={"商品编码":str,"商品条码":str})
#代码开始
dfx = df["日期"].unique()
for i in dfx:
    wjm = str(i).replace("-", "")[:8]
    writer = pd.ExcelWriter('xlscl/step3/rq/' + wjm + '.xlsx')
    bj = df.loc[df["日期"] == i, ["类别", "商品编码", "商品条码", "商品名称", "商品金额", "数量", "合计金额"]]
    bjx = bj["类别"].unique()
    for j in bjx:
        dfjs = bj.loc[df["类别"] == j, ["商品编码", "商品条码", "商品名称", "商品金额", "数量", "合计金额"]]
        dfjs.to_excel(writer, sheet_name = j, index = False)
    df3 = bj.groupby("类别")["合计金额"].sum()
    df3.sort_values(ascending = False, inplace = True)
    df3.to_excel(writer, sheet_name = "类别统计", index_label = "类别")
    writer.save()
#代码结束
~~~



## 数据可视化



### matplotlib数据可视化



#### 第1关 各省gdp的和生成条状图

~~~python
import pandas
import matplotlib
matplotlib.use('Agg')
import matplotlib.pyplot as plt
matplotlib.rcParams['font.family']='SimHei'
matplotlib.rcParams['font.sans-serif'] = ['SimHei']
data=pandas.read_excel("test/各省GDP.xlsx",dtype={"年份":str})
#代码开始
df = data.groupby(["年份"])["GDP"].sum()
fig = plt.figure(figsize = (10, 10))
plt.bar(df.index, df)
plt.title("GDP条状图")
plt.show()
#代码结束
plt.savefig("image1/gdptxt.jpg")
~~~



#### 第2关 各省银行数量绘制饼图

~~~python
import pandas
import matplotlib
matplotlib.use("agg")
import matplotlib.pyplot as plt
matplotlib.rcParams['font.family']='SimHei'
matplotlib.rcParams['font.sans-serif'] = ['SimHei']
data=pandas.read_excel("test/银行信息.xlsx")
#代码开始
fig = plt.figure(figsize = (10, 10))
dp1 = data.groupby(["省份"])["银行编号"].count()
plt.pie(dp1, labels = dp1.index.str[:2])
plt.title("银行省份分布图")
#代码结束
plt.savefig("image2/yhbt.jpg")
~~~



#### 第3关 各类银行数量绘制折线图

~~~python
import pandas
import matplotlib
matplotlib.use("Agg")
import numpy as np
import matplotlib.pyplot as plt
matplotlib.rcParams['font.family']='SimHei'
matplotlib.rcParams['font.sans-serif'] = ['SimHei']
data=pandas.read_excel("test/银行信息.xlsx")
#代码开始
sj = data.groupby(["银行种类"])["银行编号"].count()
sj = sj.sort_values(ascending = False)
sj = sj.head(10)
plt.figure(figsize = (10, 10))
plt.plot(sj.index, sj)
plt.title("银行种类折线图")
#代码结束
plt.savefig("image3/yhzxt.jpg")
~~~



#### 第4关 各日超市销售金额绘制折线图

~~~python
import matplotlib
matplotlib.use('Agg')
import matplotlib.pyplot as plt
import pandas as pd
import datetime
df=pd.read_excel("tbsc/step1/统计数据.xlsx",sheet_name="日期统计")
#代码开始
matplotlib.rcParams['font.family'] = 'SimHei'
matplotlib.rcParams['font.sans-serif'] = ['SimHei']
plt.figure(figsize = (10,14))
plt.title("日期销售")
plt.xlabel("日期")
plt.ylabel("金额")
plt.ylim(0, 1800)
plt.gca().xaxis.set_major_formatter(matplotlib.dates.DateFormatter('%Y-%m-%d'))
plt.xlim(datetime.date(2000, 5, 20), datetime.date(2000, 7, 18))
plt.xticks(pd.date_range('2000-5-20', '2000-7-18'), rotation = 90)
plt.plot(df["日期"].dt.date, df["合计金额"])
#代码结束
plt.savefig("image4/rqzxt.jpg")
~~~



#### 第5关 四种类别的销售数量合计最高的三种商品绘制多个条形图

~~~python
import matplotlib
matplotlib.use('Agg')
import matplotlib.pyplot as plt
import pandas as pd
import numpy as np
#代码开始
matplotlib.rcParams['font.family'] = 'SimHei'
matplotlib.rcParams['font.sans-serif'] = ['SimHei']
plt.figure(figsize=(10, 14))
lb = ["烟", "饮料", "零食", "酒"]
j = 1
for x in lb:
    df = pd.read_excel("tbsc/step2/类别销售.xlsx", sheet_name=x)
    sj = df.groupby("商品名称")["数量"].sum()
    sj.sort_values(ascending=False, inplace=True)
    sj.index = sj.index.str.replace("\t", "")
    sp = sj[:3]
    plt.subplot(2, 2, j)
    for i in range(0, 3):
        plt.bar(x=i * 0.5, height=sj[i], width=0.2, label=sj.index[i])
        plt.text(i * 0.5, sj[i] + 1, sj[i])
    j = j + 1
    plt.xticks([0, 0.5, 1], [1, 2, 3])
    plt.title(x)
    plt.legend()
#代码结束
plt.savefig("image5/lbzxt.jpg")
~~~



#### 第6关 销售各类别数据绘制饼图

~~~python
import matplotlib
matplotlib.use('Agg')
import matplotlib.pyplot as plt
import pandas as pd
df=pd.read_excel("tbsc/step3/统计数据.xlsx",sheet_name="类别统计")
matplotlib.rcParams['font.family']='SimHei'
matplotlib.rcParams['font.sans-serif'] = ['SimHei']
#代码开始
plt.figure(figsize=(10, 10))
ds = df["合计金额"].mean() / 5
df1 = df.loc[df["合计金额"] >= ds]
qthj = df.loc[df["合计金额"] < ds]["合计金额"].sum()
df1 = df1.append({"类别": "其他", "合计金额": qthj}, ignore_index=True)
plt.pie(df1["合计金额"], labels=df1["类别"], autopct="%0.2f%%")
plt.title('各类别销售分布')
#代码结束
plt.savefig("image6/lbbt.jpg")
~~~



# 第10章 python综合应用



## Python程序设计综合练习题1



### 第1关 简单排序

~~~python
#!/usr/bin/env python
# -*- coding: utf-8 -*-
x = input()
xlist = x.split(' ')
#print(xlist)
for i in range(0,len(xlist)):
    xlist[i] = int(xlist[i])

def sort(xlist):

    #*********begin*********#
    length = len(xlist)
    for i in range(1, length):
        x = xlist[i]
        for j in range(i, -1, -1):
            if x < xlist[j - 1]:
                xlist[j] = xlist[j - 1]
            else:
                break
        xlist[j] = x
        print(' '.join(map(str, xlist)))
    #*********end*********#

sort(xlist)
~~~



### 第2关 停电时间计算

~~~python
#!/usr/bin/env python
# -*- coding: utf-8 -*-
#从键盘获取字符串日期
startTime = input()
endTime = input()

def DayToInt(Time):
    if(Time[0] == '7'):
        time = int(Time[2:])-1
    if(Time[0] == '8'):
        time = int(Time[2:])+30
    return time

def getDayNum(startTime,endTime):
    #*********begin*********#
    standard = []
    for i in range(1,11):
        standard.append(0)
        for j in range(i):
            standard.append(1)
    starttime = DayToInt(startTime)
    endtime = DayToInt(endTime)
    new_list = standard[starttime:endtime+1]
    count = len([i for i in new_list if i==0])
    print(count)
    #*********end*********#
getDayNum(startTime,endTime)
~~~



### 第3关 停电日期判断

~~~python
#!/usr/bin/env python
# -*- coding: utf-8 -*-
inputDate = input()

def DayToInt(Time):
    if (Time[0] == '7'):
        time = int(Time[2:]) - 1
    if (Time[0] == '8'):
        time = int(Time[2:]) + 30
    if (Time[0] == '9'):
        time = int(Time[2:]) + 61
    return time

def isPowerCut(inputDate):
    #*********begin*********#
    standard = []
    for i in range(1, 14):
        standard.append(0)
        for j in range(i):
            standard.append(1)
    time = DayToInt(inputDate)
    if standard[time] == 1:
        return 'false'
    if standard[time] == 0:
        return 'true'
    #*********end*********#
print(isPowerCut(inputDate))
~~~



### 第4关 数字月份转换为对应月份的英文缩写

~~~python
##代码开始###
months = "JanFebMarAprMayJunJulAugSepOctNovDec"
n = input()
pos = (int(n) - 1) * 3
monthAbbrev = months[pos:pos+3]
print(monthAbbrev)
~~~



### 第5关 数字反转

~~~python
###开始###
n = int(input())
if n > 0:
    print(int(str(n)[::-1]))
elif n < 0 :
    print(int(str(abs(n))[::-1]) * -1)       
else:
    print(0)
~~~



### 第6关 回文判断

~~~python
###代码开始###
s = input()
a = reversed(list(s))
if s.isupper():
    if list(a) == list(s):
        print('1', end = '')
    else:
        print('0', end = '')
else:
    print('error', end = '')
~~~



### 第7关 删除列表中重复元素

~~~python
###开始代码###
b = input().split()
a = [int(i) for i in b]
a.sort()
a = list(set(a))
print(a)
~~~



## 综合练习题文件读取、字典、统计词频、词云



### 第1关 统计文档中作者作品数量

~~~python
f1=open("sy9//中学诗词.txt","r",encoding='utf-8')
#代码开始
d = {}
fh = {"，", "。", "！", "？", ",", "?", "!"}
f1.seek(0)
for line in f1:
    flag = 0
    for i in fh:
        if i in line:
            flag = 1
            break
        else:
            m = line.strip()
            s = m.rfind(" ")
            xm = m[int(s) + 1:]

    if flag == 0 and ("上" not in xm) and ("下" not in xm) and (xm != ""):
        if xm not in d:
            d[xm] = 1
        else:
            d[xm] = d[xm] + 1

lt = list(d.items())
lt.sort(key = lambda x:x[1], reverse = True)
#代码结束
for i in lt:
    print(i[0],i[1])
f1.close()
~~~



### 第2关 候选人票数统计

~~~python
tp=[]
x=input("")
while(x!="end"):
    tp.append(x)
    x=input("")
#代码开始
zd = {}
for i in tp:
    if i not in zd:
        zd[i] = 1
    else:
        zd[i] = zd[i] + 1
items = list(zd.items())
items.sort(key = lambda x:x[1], reverse = True)
#代码结束
for i in range(len(items)):
    print("第{}名姓名{}票数{}".format(i+1,items[i][0],items[i][1]))
~~~



### 第3关 会员会费计算

~~~python
f1=open("sy9//会员名单.txt","r",encoding="utf8")
#代码开始
zd1 = {"影视黄金会员":199, "影视星钻会员":399, "非影视会员":0,}
zd2 = {"体育大众会员":98, "体育专业会员":198, "非体育会员":0}
for line in f1:
    hy = line.strip().split(",")
    hf = zd1.get(hy[1], 0) + zd2.get(hy[2], 0)
    print("{} {}".format(hy[0], hf))
#代码结束
f1.close()
~~~



### 第4关 职工工资计算

~~~python
zg=[]
xx=input("")
while(xx!="end"):
    sj=xx.split(',')
    zg.append([sj[0],eval(sj[1]),sj[2],sj[3]])
    xx=input("")
#代码开始
jt1 = {"北京":5000, "上海":4000, "广州":3000}
jt2 = {"销售部":2000, "经理室":3000, "财会部":1000}
yfgz = []
for i in range(len(zg)):
    jt = zg[i][1] + jt1.get(zg[i][2], 0) + jt2.get(zg[i][3], 0)
    yfgz.append([zg[i][0], jt])
yfgz.sort(key = lambda x:x[1], reverse = True)
#代码结束
for x in yfgz:
    print("姓名"+x[0]+"工资"+str(x[1]))
~~~



### 第5关 文件币种兑换计算

~~~python
f1=open("sy9//汇率兑换.txt","r",encoding="utf-8")
bzzd={}
#代码开始
for line in f1:
    dh1 = line.find("(")
    dh2 = line.find(")")
    hl1 = line.find("=")
    hl2 = line.find("人")
    dh = line[dh1 + 1:dh2]
    hl = eval(line[hl1 + 1:hl2])
    bzzd[dh] = hl
x = input("")
while x != "0":
    dh0 = x[:3]
    je = x[3:]
    dhdx = str.upper(dh0)
    if dhdx in bzzd and je.isdigit() == True:
        rmb = eval(je) * bzzd.get(dhdx, 0)
        print("人民币{:.2f}".format(rmb))
    if dhdx not in bzzd:
        print("币种错误")
    if je.isdigit() == False:
        print("数字错误")
    x = input("")
#代码结束
f1.close()
~~~



### 第6关 饮品销售计算

~~~python
f1=open("sy9//nc.csv","r",encoding="utf8")
#代码开始
yp = []
zd = {}
for line in f1:
    every = line.strip().split(",")
    yp.append([every[0], every[1], eval(every[2])])
    zd[every[0]] = eval(every[2])
for i in range(len(yp)):
    print("编号{}饮品{}价格{}".format(yp[i][0], yp[i][1], yp[i][2]))
x = input("请选择饮品")
je = 0
while x != "00":
    if x in zd:
        n = eval(input("请输入数量"))
        je += zd.get(x, 0) * n
    else:
        print("编码错误")
    x = input("请选择饮品")
#代码结束
print("应付{}元".format(je))
~~~



### 第7关 统计文件词语的词频

~~~python
import jieba
f1= open("sy9//宋词.txt", "r")
#代码开始
txt = f1.read()
txt = txt.replace("东风第一枝", "")
words = jieba.lcut(txt)
jh = set()
f1.seek(0)
for line in f1:
    line = line.strip()
    if "　" in line:
        zz = line[line.find("　") + 1:]
        cpm = line[:line.find("　")]
        jh.add(zz)
        jh.add(cpm)
f1.close()
zd = {}
for w in words:
    if len(w) >= 2 and w not in jh:
        zd[w] = zd.get(w, 0) + 1
items = list(zd.items())
items.sort(key = lambda x:x[1], reverse = True)
#代码结束
for i in range(15):
    print("{}{}".format(items[i][0],items[i][1]))
~~~



### 第8关 宋词文件词云图片

~~~python
import jieba
import wordcloud
f1= open("sy9//宋词.txt", "r")
#代码开始
txt = f1.read()
words = jieba.lcut(txt)
jh = set()
f1.seek(0)
for line in f1:
    line = line.strip()
    if " " in line:
        zz = line[line.find(" ") + 1:]
        cpm = line[:line.find(" ")]
        jh.add(zz)
        jh.add(cpm)
f1.close()
lb = []
for w in words:
    if len(w) >= 2 and w not in jh:
        lb.append(w)
xtxt = ",".join(lb)
w = wordcloud.WordCloud(font_path = "sy9//simhei.ttf", width = 1000, height = 700, background_color = "white", max_words = 300)
w.generate(xtxt)
#代码结束
w.to_file("sy9//pict//sc1.png")
~~~

